{
  "address": "0xBf05d97e57A220c81602F3B05B7A8DDDB6eFcA13",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "participant",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "currentOrNextCyclePaid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "expelledBeforeBeneficiary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "participant",
          "type": "address"
        }
      ],
      "name": "getAllJoinedTerms",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getAvailablePositionsAndSecurityAmount",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getCollateralSummary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "enum LibCollateralStorage.CollateralStates",
          "name": "",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "firstAggregator",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "secondAggregator",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "zapAddress",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "vaultAddress",
          "type": "string"
        }
      ],
      "name": "getConstants",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getCurrentBeneficiary",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getDepositorCollateralSummary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "participant",
          "type": "address"
        }
      ],
      "name": "getExpelledTerms",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getFundSummary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "enum LibFundStorage.FundStates",
          "name": "",
          "type": "uint8"
        },
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "participant",
          "type": "address"
        },
        {
          "internalType": "enum LibTermStorage.TermStates",
          "name": "state",
          "type": "uint8"
        }
      ],
      "name": "getJoinedTermsByState",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLatestPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getNeededAllowance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getNextBeneficiary",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "participant",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getParticipantFundSummary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getRemainingContributionTime",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getRemainingCycleTime",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getRemainingCycles",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getRemainingCyclesContributionWei",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getRemainingRegistrationTime",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getTermRelatedSummary",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "initialized",
              "type": "bool"
            },
            {
              "internalType": "enum LibTermStorage.TermStates",
              "name": "state",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "termOwner",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "creationTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "termId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "registrationPeriod",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalParticipants",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "cycleTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "contributionAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "contributionPeriod",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "stableTokenAddress",
              "type": "address"
            }
          ],
          "internalType": "struct LibTermStorage.Term",
          "name": "term",
          "type": "tuple"
        },
        {
          "internalType": "enum LibCollateralStorage.CollateralStates",
          "name": "collateralState",
          "type": "uint8"
        },
        {
          "internalType": "enum LibFundStorage.FundStates",
          "name": "fundState",
          "type": "uint8"
        },
        {
          "components": [
            {
              "internalType": "uint256[]",
              "name": "availablePositions",
              "type": "uint256[]"
            },
            {
              "internalType": "uint256[]",
              "name": "securityDeposits",
              "type": "uint256[]"
            },
            {
              "internalType": "uint256",
              "name": "remainingRegistrationTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "remainingContributionTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "remainingCycleTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "remainingCycles",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "rcc",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "latestPrice",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "collateralInitialized",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "collateralFirstDepositTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "collateralCounterMembers",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "fundInitialized",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "fundStartTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fundEndTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fundCurrentCycle",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fundExpellantsCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fundTotalCycles",
              "type": "uint256"
            },
            {
              "internalType": "address[]",
              "name": "fundBeneficiariesOrder",
              "type": "address[]"
            },
            {
              "internalType": "bool",
              "name": "yieldInitialized",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "yieldStartTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "yieldTotalDeposit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "yieldCurrentTotalDeposit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "yieldTotalShares",
              "type": "uint256"
            },
            {
              "internalType": "address[]",
              "name": "yieldUsers",
              "type": "address[]"
            }
          ],
          "internalType": "struct LibGettersHelpers.NonUserRelated",
          "name": "nonUserRelated",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getTermSummary",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "initialized",
              "type": "bool"
            },
            {
              "internalType": "enum LibTermStorage.TermStates",
              "name": "state",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "termOwner",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "creationTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "termId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "registrationPeriod",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "totalParticipants",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "cycleTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "contributionAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "contributionPeriod",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "stableTokenAddress",
              "type": "address"
            }
          ],
          "internalType": "struct LibTermStorage.Term",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTermsId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "USDAmount",
          "type": "uint256"
        }
      ],
      "name": "getToCollateralConversionRate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "ethAmount",
          "type": "uint256"
        }
      ],
      "name": "getToStableConversionRate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getUserRelatedSummary",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bool",
              "name": "collateralMember",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isUnderCollaterized",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "membersBank",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "paymentBank",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deposited",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "expulsonLimit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "withdrawableBalance",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "fundMember",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "beneficiary",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "currentCyclePaid",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "nextCyclePaid",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "autoPayer",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "moneyPotFrozen",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "exemptedThisCycle",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "pool",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "cycleExpelled",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "yieldMember",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "collateralDepositedInYield",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "collateralWithdrawnFromYield",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "yieldAvailable",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "yieldWithdrawn",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "distributedYield",
              "type": "uint256"
            }
          ],
          "internalType": "struct LibGettersHelpers.UserRelated",
          "name": "userRelated",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "participant",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getUserSet",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getUserYieldSummary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getWithdrawableUserBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "allowedWithdrawal",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getYieldLockState",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "getYieldSummary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        }
      ],
      "name": "isBeneficiary",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "cycle",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "isExempted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "member",
          "type": "address"
        }
      ],
      "name": "isUnderCollaterized",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositorIndex",
          "type": "uint256"
        }
      ],
      "name": "minCollateralToDeposit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "termAPY",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        }
      ],
      "name": "totalYieldGenerated",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "userAPY",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "userHasoptedInYG",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "termId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "wasExpelled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xb1bfa3b7576bbb792a7da8cbd3e7d5c9034a402056049ce093eec59fded62185",
  "receipt": {
    "to": "0x4e59b44847b379578588920cA78FbF26c0B4956C",
    "from": "0xF5C5B85eA5f255495e037563cB8cDe3513eE602e",
    "contractAddress": null,
    "transactionIndex": 1,
    "gasUsed": "4716569",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x8f1a135ddad4b498b41428ef3df3c24bd58a92bb9d335bc92e5d7b618138bda3",
    "transactionHash": "0xb1bfa3b7576bbb792a7da8cbd3e7d5c9034a402056049ce093eec59fded62185",
    "logs": [],
    "blockNumber": 211610098,
    "cumulativeGasUsed": "4716569",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 8,
  "solcInputHash": "541908a0eb7f4e33136d1d6dcc386db4",
  "metadata": "{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"participant\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"currentOrNextCyclePaid\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"expelledBeforeBeneficiary\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"participant\",\"type\":\"address\"}],\"name\":\"getAllJoinedTerms\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getAvailablePositionsAndSecurityAmount\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getCollateralSummary\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"enum LibCollateralStorage.CollateralStates\",\"name\":\"\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"firstAggregator\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"secondAggregator\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"zapAddress\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"vaultAddress\",\"type\":\"string\"}],\"name\":\"getConstants\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getCurrentBeneficiary\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getDepositorCollateralSummary\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"participant\",\"type\":\"address\"}],\"name\":\"getExpelledTerms\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getFundSummary\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"enum LibFundStorage.FundStates\",\"name\":\"\",\"type\":\"uint8\"},{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"participant\",\"type\":\"address\"},{\"internalType\":\"enum LibTermStorage.TermStates\",\"name\":\"state\",\"type\":\"uint8\"}],\"name\":\"getJoinedTermsByState\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLatestPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getNeededAllowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getNextBeneficiary\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"participant\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getParticipantFundSummary\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getRemainingContributionTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getRemainingCycleTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getRemainingCycles\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getRemainingCyclesContributionWei\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getRemainingRegistrationTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getTermRelatedSummary\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"initialized\",\"type\":\"bool\"},{\"internalType\":\"enum LibTermStorage.TermStates\",\"name\":\"state\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"termOwner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"creationTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"registrationPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalParticipants\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cycleTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"contributionAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"contributionPeriod\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"stableTokenAddress\",\"type\":\"address\"}],\"internalType\":\"struct LibTermStorage.Term\",\"name\":\"term\",\"type\":\"tuple\"},{\"internalType\":\"enum LibCollateralStorage.CollateralStates\",\"name\":\"collateralState\",\"type\":\"uint8\"},{\"internalType\":\"enum LibFundStorage.FundStates\",\"name\":\"fundState\",\"type\":\"uint8\"},{\"components\":[{\"internalType\":\"uint256[]\",\"name\":\"availablePositions\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"securityDeposits\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"remainingRegistrationTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"remainingContributionTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"remainingCycleTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"remainingCycles\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rcc\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"latestPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"collateralInitialized\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"collateralFirstDepositTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateralCounterMembers\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"fundInitialized\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"fundStartTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fundEndTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fundCurrentCycle\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fundExpellantsCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fundTotalCycles\",\"type\":\"uint256\"},{\"internalType\":\"address[]\",\"name\":\"fundBeneficiariesOrder\",\"type\":\"address[]\"},{\"internalType\":\"bool\",\"name\":\"yieldInitialized\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"yieldStartTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"yieldTotalDeposit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"yieldCurrentTotalDeposit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"yieldTotalShares\",\"type\":\"uint256\"},{\"internalType\":\"address[]\",\"name\":\"yieldUsers\",\"type\":\"address[]\"}],\"internalType\":\"struct LibGettersHelpers.NonUserRelated\",\"name\":\"nonUserRelated\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getTermSummary\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"initialized\",\"type\":\"bool\"},{\"internalType\":\"enum LibTermStorage.TermStates\",\"name\":\"state\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"termOwner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"creationTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"registrationPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalParticipants\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cycleTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"contributionAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"contributionPeriod\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"stableTokenAddress\",\"type\":\"address\"}],\"internalType\":\"struct LibTermStorage.Term\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTermsId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"USDAmount\",\"type\":\"uint256\"}],\"name\":\"getToCollateralConversionRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ethAmount\",\"type\":\"uint256\"}],\"name\":\"getToStableConversionRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getUserRelatedSummary\",\"outputs\":[{\"components\":[{\"internalType\":\"bool\",\"name\":\"collateralMember\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isUnderCollaterized\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"membersBank\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"paymentBank\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deposited\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expulsonLimit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"withdrawableBalance\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"fundMember\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"beneficiary\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"currentCyclePaid\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"nextCyclePaid\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"autoPayer\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"moneyPotFrozen\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"exemptedThisCycle\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"pool\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cycleExpelled\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"yieldMember\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"collateralDepositedInYield\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateralWithdrawnFromYield\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"yieldAvailable\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"yieldWithdrawn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"distributedYield\",\"type\":\"uint256\"}],\"internalType\":\"struct LibGettersHelpers.UserRelated\",\"name\":\"userRelated\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"participant\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getUserSet\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getUserYieldSummary\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getWithdrawableUserBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"allowedWithdrawal\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getYieldLockState\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"getYieldSummary\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"beneficiary\",\"type\":\"address\"}],\"name\":\"isBeneficiary\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"cycle\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"isExempted\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"member\",\"type\":\"address\"}],\"name\":\"isUnderCollaterized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"depositorIndex\",\"type\":\"uint256\"}],\"name\":\"minCollateralToDeposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"termAPY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"}],\"name\":\"totalYieldGenerated\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"userAPY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"userHasoptedInYG\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"termId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"wasExpelled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Maikel Ordaz\",\"details\":\"v3.0 (Diamond)\",\"kind\":\"dev\",\"methods\":{\"currentOrNextCyclePaid(address,uint256)\":{\"params\":{\"participant\":\"the user to get the info from\",\"termId\":\"the fund id\"},\"returns\":{\"_0\":\"paidThisCycle, true if has paid the current cycle\",\"_1\":\"paidNextCycle, true if has paid the next cycle\"}},\"expelledBeforeBeneficiary(uint256,address)\":{\"params\":{\"termId\":\"the id of the term\",\"user\":\"the address of the participant to check\"},\"returns\":{\"_0\":\"true if the participant is expelled before being a beneficiary\"}},\"getAllJoinedTerms(address)\":{\"params\":{\"participant\":\"the participant address\"},\"returns\":{\"_0\":\"an array with the term ids the participant is part of\"}},\"getAvailablePositionsAndSecurityAmount(uint256)\":{\"details\":\"Available positions starts at 0\",\"params\":{\"termId\":\"the term id\"},\"returns\":{\"_0\":\"availablePositions an array with the available positions\",\"_1\":\"securityAmount an array with the security amount for each available position\"}},\"getCollateralSummary(uint256)\":{\"params\":{\"termId\":\"the collateral id\"},\"returns\":{\"_0\":\"if collateral initialized\",\"_1\":\"current collateral state\",\"_2\":\"time of first deposit\",\"_3\":\"current members count\",\"_4\":\"list of depositors\"}},\"getConstants(string,string,string,string)\":{\"params\":{\"firstAggregator\":\"The name of the first aggregator. Example: \\\"ETH/USD\\\"\",\"secondAggregator\":\"The name of the second aggregator. Example: \\\"USDC/USD\\\"\",\"vaultAddress\":\"The name of the vault address. Example: \\\"ZaynVault\\\"\",\"zapAddress\":\"The name of the zap address. Example: \\\"ZaynZap\\\"\"},\"returns\":{\"_0\":\"The addresses of the oracles and yield providers\"}},\"getCurrentBeneficiary(uint256)\":{\"params\":{\"termId\":\"the fund id\"},\"returns\":{\"_0\":\"the current beneficiary\"}},\"getDepositorCollateralSummary(address,uint256)\":{\"params\":{\"depositor\":\"the depositor address\",\"termId\":\"the collateral id\"},\"returns\":{\"_0\":\"if the user is a true member of the term\",\"_1\":\"current users locked collateral balance in wei\",\"_2\":\"current users unlocked collateral balance in wei\",\"_3\":\"initial users deposit in wei\",\"_4\":\"expulsion limit\"}},\"getExpelledTerms(address)\":{\"params\":{\"participant\":\"the participant address\"},\"returns\":{\"_0\":\"an array the term ids on which the participant was expelled\"}},\"getFundSummary(uint256)\":{\"params\":{\"termId\":\"the fund id\"},\"returns\":{\"_0\":\"if fund initialized\",\"_1\":\"current fund state\",\"_2\":\"stable token address used\",\"_3\":\"list of beneficiaries order\",\"_4\":\"when the fund starts in seconds\",\"_5\":\"when the fund ended, 0 if not ended\",\"_6\":\"current cycle number\",\"_7\":\"total amount of cycles\"}},\"getJoinedTermsByState(address,uint8)\":{\"params\":{\"participant\":\"the participant address\",\"state\":\"the term state\"},\"returns\":{\"_0\":\"an array with the term ids the participant is part of, giving the state of the term\"}},\"getLatestPrice()\":{\"details\":\"Revert if there is problem with chainlink data\",\"returns\":{\"_0\":\"uint latest price in Wei Note: 18 decimals\"}},\"getNeededAllowance(address)\":{\"params\":{\"user\":\"the user address\"},\"returns\":{\"_0\":\"the needed allowance\"}},\"getNextBeneficiary(uint256)\":{\"params\":{\"termId\":\"the fund id\"},\"returns\":{\"_0\":\"the next beneficiary\"}},\"getParticipantFundSummary(address,uint256)\":{\"params\":{\"participant\":\"the user to get the info from\",\"termId\":\"the fund id\"},\"returns\":{\"_0\":\"isParticipant, true if is participant\",\"_1\":\"isBeneficiary, true if has been beneficiary\",\"_2\":\"paidThisCycle, true if has paid the current cycle\",\"_3\":\"autoPayEnabled, true if auto pay is enabled\",\"_4\":\"beneficiariesPool, the beneficiary pool, 6 decimals\",\"_5\":\"beneficiariesFrozenPool, true if the beneficiary pool is frozen\"}},\"getRemainingContributionTime(uint256)\":{\"params\":{\"termId\":\"the fund id\"},\"returns\":{\"_0\":\"the time left to contribute\"}},\"getRemainingCycleTime(uint256)\":{\"params\":{\"termId\":\"the term id\"},\"returns\":{\"_0\":\"remaining time in the current cycle\"}},\"getRemainingCycles(uint256)\":{\"params\":{\"termId\":\"the term id\"},\"returns\":{\"_0\":\"remaining cycles\"}},\"getRemainingCyclesContributionWei(uint256)\":{\"params\":{\"termId\":\"the term id\"},\"returns\":{\"_0\":\"remaining cycles contribution in wei\"}},\"getRemainingRegistrationTime(uint256)\":{\"details\":\"Revert if nobody has deposited\",\"params\":{\"termId\":\"the term id\"},\"returns\":{\"_0\":\"remaining contribution period\"}},\"getTermRelatedSummary(uint256)\":{\"params\":{\"termId\":\"The term id for which the summary is being requested\"},\"returns\":{\"collateralState\":\"The current state of the collateral\",\"fundState\":\"The current state of the fund\",\"nonUserRelated\":\"A helper struct with the following values:                        available positions, security deposits corresponding to each position,                        remaining registration time, remaining contribution time,                        remaining cycle time, remaining cycles, remaining cycles                        contribution in wei, latest price from Chainlink, collateral                        first deposit time in seconds, collateral counter members,                        fund start time in seconds, fund end time in seconds, current                        cycle, expelled participants, total amount of cycles, yield                        start time in seconds, total deposit in wei, current total                        deposit in wei, total shares, users opted in for yield\",\"term\":\"The term object\"}},\"getTermSummary(uint256)\":{\"params\":{\"termId\":\"the term id\"},\"returns\":{\"_0\":\"the term object\"}},\"getTermsId()\":{\"returns\":{\"_0\":\"the current term id\",\"_1\":\"the next term id\"}},\"getToCollateralConversionRate(uint256)\":{\"params\":{\"USDAmount\":\"The amount in USD with 18 decimals\"},\"returns\":{\"_0\":\"uint converted amount in wei\"}},\"getToStableConversionRate(uint256)\":{\"params\":{\"ethAmount\":\"The amount in ETH\"},\"returns\":{\"_0\":\"uint converted amount in USD correct to 18 decimals\"}},\"getUserRelatedSummary(address,uint256)\":{\"params\":{\"termId\":\"the collateral id\",\"user\":\"the depositor address\"},\"returns\":{\"userRelated\":\"an object that contains the following values:                     user is collateral member, user is undercollaterized,                     current collateral balance, received collateral from defaults,                     initial deposited collateral, collateral expulsion limit,                     currently withdrawable balance, is fund member, is or was beneficiary,                     user paid current cycle, user paid next cycle in advance,                     user enabled autopay, user's money pot is frozen, user is exempted this                     cycle, the money pot pool the user can withdraw, the cycle the user got                     expelled (if applicable), is yield member, amount of collateral deposited                     in yield pool, amount of collateral withdrawn from yield pool, available                     yield to withdraw, amount of yield withdrawn, yield to be distributed\"}},\"getUserSet(address,uint256)\":{\"params\":{\"participant\":\"the user to get the info from\",\"termId\":\"the fund id\"},\"returns\":{\"_0\":\"on participant set\",\"_1\":\"on beneficiary set\",\"_2\":\"on defaulter set\"}},\"getUserYieldSummary(address,uint256)\":{\"params\":{\"termId\":\"the collateral id\",\"user\":\"the depositor address\"},\"returns\":{\"_0\":\"if the user opted in for yield\",\"_1\":\"amount withdrawn from yield\",\"_2\":\"amount withdrawn from collateral\",\"_3\":\"amount available in yield\",\"_4\":\"amount deposited by user in yield\",\"_5\":\"amount of yield distributed\"}},\"getWithdrawableUserBalance(uint256,address)\":{\"params\":{\"termId\":\"term id\",\"user\":\"depositor address\"},\"returns\":{\"allowedWithdrawal\":\"amount the amount of collateral the depositor can withdraw\"}},\"getYieldLockState()\":{\"returns\":{\"_0\":\"The current state of the yield lock\"}},\"getYieldSummary(uint256)\":{\"params\":{\"termId\":\"the collateral id\"},\"returns\":{\"_0\":\"if the yield is initialized\",\"_1\":\"start time stamp for yield deposit\",\"_2\":\"total deposit\",\"_3\":\"current amount in yield\",\"_4\":\"amount of total shares\",\"_5\":\"list of yield users\",\"_6\":\"address of vault\",\"_7\":\"address of zap\"}},\"isBeneficiary(uint256,address)\":{\"params\":{\"beneficiary\":\"the address of the participant to check\",\"termId\":\"the id of the term\"},\"returns\":{\"_0\":\"true if the participant is a beneficiary\"}},\"isExempted(uint256,uint256,address)\":{\"params\":{\"cycle\":\"the cycle to check\",\"termId\":\"the fund id\",\"user\":\"the user to check\"},\"returns\":{\"_0\":\"true if the user is exempted\"}},\"isUnderCollaterized(uint256,address)\":{\"details\":\"This will revert if called during ReleasingCollateral or after\",\"params\":{\"member\":\"The user to check for\",\"termId\":\"The term id\"},\"returns\":{\"_0\":\"Bool check if member is below 1.0x of collateralDeposit\"}},\"minCollateralToDeposit(uint256,uint256)\":{\"details\":\"The minimum collateral amount is calculated based on the index on the depositors arrayThe return value should be the minimum msg.value when calling joinTermC = 1.5 Cp (Tp - I) where C = minimum collateral amount, Cp = contribution amount,      Tp = total participants, I = depositor index (starts at 0). 1.5\",\"params\":{\"depositorIndex\":\"the index the depositor wants to join\",\"termId\":\"term id\"},\"returns\":{\"amount\":\"the minimum collateral amount to deposit in wei\"}},\"termAPY(uint256)\":{\"params\":{\"termId\":\"The term id for which the APY is being calculated\"},\"returns\":{\"_0\":\"The APY for the term\"}},\"totalYieldGenerated(uint256)\":{\"params\":{\"termId\":\"The term id for which the yield is being calculated\"},\"returns\":{\"_0\":\"The total yield generated for the term\"}},\"userAPY(uint256,address)\":{\"params\":{\"termId\":\"The term id for which the APY is being calculated\",\"user\":\"The user for which the APY is being calculated\"},\"returns\":{\"_0\":\"The APY for the user\"}},\"userHasoptedInYG(uint256,address)\":{\"params\":{\"termId\":\"The term id for which the check is being made\",\"user\":\"The user for which the check is being made\"},\"returns\":{\"_0\":\"True if the user has opted in\"}},\"wasExpelled(uint256,address)\":{\"params\":{\"termId\":\"the fund id\",\"user\":\"the user to check\"},\"returns\":{\"_0\":\"true if the user was expelled before\"}}},\"title\":\"Takaturn Getters Facet\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"currentOrNextCyclePaid(address,uint256)\":{\"notice\":\"function to get fund information of a specific participant\"},\"expelledBeforeBeneficiary(uint256,address)\":{\"notice\":\"checks if a participant have been expelled before being a beneficiary\"},\"getAllJoinedTerms(address)\":{\"notice\":\"Get all the terms a participant is part of\"},\"getAvailablePositionsAndSecurityAmount(uint256)\":{\"notice\":\"Gets the remaining positions in a term and the corresponding security amount\"},\"getCollateralSummary(uint256)\":{\"notice\":\"function to get the collateral object\"},\"getConstants(string,string,string,string)\":{\"notice\":\"This function return the current constant values for oracles and yield providers\"},\"getCurrentBeneficiary(uint256)\":{\"notice\":\"function to get the beneficiary from the current cycle\"},\"getDepositorCollateralSummary(address,uint256)\":{\"notice\":\"function to get the depositor collateral summary\"},\"getExpelledTerms(address)\":{\"notice\":\"Get all the terms a participant was expelled from\"},\"getFundSummary(uint256)\":{\"notice\":\"function to get the cycle information in one go\"},\"getJoinedTermsByState(address,uint8)\":{\"notice\":\"Get all the terms a participant is part of by a given state\"},\"getLatestPrice()\":{\"notice\":\"Gets latest ETH / USD price\"},\"getNeededAllowance(address)\":{\"notice\":\"a function to get the needed allowance for every active term the user is part of\"},\"getNextBeneficiary(uint256)\":{\"notice\":\"function to get the beneficiary from the next cycle\"},\"getParticipantFundSummary(address,uint256)\":{\"notice\":\"function to get fund information of a specific participant\"},\"getRemainingContributionTime(uint256)\":{\"notice\":\"returns the time left to contribute for this cycle\"},\"getRemainingCycleTime(uint256)\":{\"notice\":\"Get the term's remaining time in the current cycle\"},\"getRemainingCycles(uint256)\":{\"notice\":\"Get the term's remaining cycles\"},\"getRemainingCyclesContributionWei(uint256)\":{\"notice\":\"Get the term's remaining contribution amount converted from USDC to wei\"},\"getRemainingRegistrationTime(uint256)\":{\"notice\":\"Gets the remaining registration period for a term\"},\"getTermRelatedSummary(uint256)\":{\"notice\":\"This function is used as a helper for front-end implementation\"},\"getTermSummary(uint256)\":{\"notice\":\"Gets the term object\"},\"getToCollateralConversionRate(uint256)\":{\"notice\":\"Gets the conversion rate of an amount in USD to ETH\"},\"getToStableConversionRate(uint256)\":{\"notice\":\"Gets the conversion rate of an amount in ETH to USD\"},\"getUserRelatedSummary(address,uint256)\":{\"notice\":\"This function is used as a helper for front-end implementation\"},\"getUserSet(address,uint256)\":{\"notice\":\"function to get cycle information of a specific participant\"},\"getUserYieldSummary(address,uint256)\":{\"notice\":\"Gets the user yield summary\"},\"getWithdrawableUserBalance(uint256,address)\":{\"notice\":\"Called to check how much collateral a user can withdraw\"},\"getYieldLockState()\":{\"notice\":\"This function is used to get the current state of the yield lock\"},\"getYieldSummary(uint256)\":{\"notice\":\"Gets the yield object\"},\"isBeneficiary(uint256,address)\":{\"notice\":\"checks if a participant have been a beneficiary\"},\"isExempted(uint256,uint256,address)\":{\"notice\":\"function to see if a user is exempted from paying a cycle\"},\"isUnderCollaterized(uint256,address)\":{\"notice\":\"Checks if a user has a collateral below 1.0x of total contribution amount\"},\"minCollateralToDeposit(uint256,uint256)\":{\"notice\":\"Called to check the minimum collateral amount to deposit in wei\"},\"termAPY(uint256)\":{\"notice\":\"This function is used to get a term APY\"},\"totalYieldGenerated(uint256)\":{\"notice\":\"This function is used to get the total yield generated for a term\"},\"userAPY(uint256,address)\":{\"notice\":\"This function is used to get a user APY\"},\"userHasoptedInYG(uint256,address)\":{\"notice\":\"This function is used to check if a user has opted in for yield generation\"},\"wasExpelled(uint256,address)\":{\"notice\":\"function to know if a user was expelled before\"}},\"notice\":\"Getters for Takaturn protocol\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/facets/GettersFacet.sol\":\"GettersFacet\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface AggregatorV3Interface {\\n  function decimals() external view returns (uint8);\\n\\n  function description() external view returns (string memory);\\n\\n  function version() external view returns (uint256);\\n\\n  function getRoundData(uint80 _roundId)\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n\\n  function latestRoundData()\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n}\\n\",\"keccak256\":\"0x6e6e4b0835904509406b070ee173b5bc8f677c19421b76be38aea3b1b3d30846\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `from` to `to` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\\n}\\n\",\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/structs/EnumerableSet.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (utils/structs/EnumerableSet.sol)\\n// This file was procedurally generated from scripts/generate/templates/EnumerableSet.js.\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Library for managing\\n * https://en.wikipedia.org/wiki/Set_(abstract_data_type)[sets] of primitive\\n * types.\\n *\\n * Sets have the following properties:\\n *\\n * - Elements are added, removed, and checked for existence in constant time\\n * (O(1)).\\n * - Elements are enumerated in O(n). No guarantees are made on the ordering.\\n *\\n * ```solidity\\n * contract Example {\\n *     // Add the library methods\\n *     using EnumerableSet for EnumerableSet.AddressSet;\\n *\\n *     // Declare a set state variable\\n *     EnumerableSet.AddressSet private mySet;\\n * }\\n * ```\\n *\\n * As of v3.3.0, sets of type `bytes32` (`Bytes32Set`), `address` (`AddressSet`)\\n * and `uint256` (`UintSet`) are supported.\\n *\\n * [WARNING]\\n * ====\\n * Trying to delete such a structure from storage will likely result in data corruption, rendering the structure\\n * unusable.\\n * See https://github.com/ethereum/solidity/pull/11843[ethereum/solidity#11843] for more info.\\n *\\n * In order to clean an EnumerableSet, you can either remove all elements one by one or create a fresh instance using an\\n * array of EnumerableSet.\\n * ====\\n */\\nlibrary EnumerableSet {\\n    // To implement this library for multiple types with as little code\\n    // repetition as possible, we write it in terms of a generic Set type with\\n    // bytes32 values.\\n    // The Set implementation uses private functions, and user-facing\\n    // implementations (such as AddressSet) are just wrappers around the\\n    // underlying Set.\\n    // This means that we can only create new EnumerableSets for types that fit\\n    // in bytes32.\\n\\n    struct Set {\\n        // Storage of set values\\n        bytes32[] _values;\\n        // Position of the value in the `values` array, plus 1 because index 0\\n        // means a value is not in the set.\\n        mapping(bytes32 => uint256) _indexes;\\n    }\\n\\n    /**\\n     * @dev Add a value to a set. O(1).\\n     *\\n     * Returns true if the value was added to the set, that is if it was not\\n     * already present.\\n     */\\n    function _add(Set storage set, bytes32 value) private returns (bool) {\\n        if (!_contains(set, value)) {\\n            set._values.push(value);\\n            // The value is stored at length-1, but we add 1 to all indexes\\n            // and use 0 as a sentinel value\\n            set._indexes[value] = set._values.length;\\n            return true;\\n        } else {\\n            return false;\\n        }\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the value was removed from the set, that is if it was\\n     * present.\\n     */\\n    function _remove(Set storage set, bytes32 value) private returns (bool) {\\n        // We read and store the value's index to prevent multiple reads from the same storage slot\\n        uint256 valueIndex = set._indexes[value];\\n\\n        if (valueIndex != 0) {\\n            // Equivalent to contains(set, value)\\n            // To delete an element from the _values array in O(1), we swap the element to delete with the last one in\\n            // the array, and then remove the last element (sometimes called as 'swap and pop').\\n            // This modifies the order of the array, as noted in {at}.\\n\\n            uint256 toDeleteIndex = valueIndex - 1;\\n            uint256 lastIndex = set._values.length - 1;\\n\\n            if (lastIndex != toDeleteIndex) {\\n                bytes32 lastValue = set._values[lastIndex];\\n\\n                // Move the last value to the index where the value to delete is\\n                set._values[toDeleteIndex] = lastValue;\\n                // Update the index for the moved value\\n                set._indexes[lastValue] = valueIndex; // Replace lastValue's index to valueIndex\\n            }\\n\\n            // Delete the slot where the moved value was stored\\n            set._values.pop();\\n\\n            // Delete the index for the deleted slot\\n            delete set._indexes[value];\\n\\n            return true;\\n        } else {\\n            return false;\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns true if the value is in the set. O(1).\\n     */\\n    function _contains(Set storage set, bytes32 value) private view returns (bool) {\\n        return set._indexes[value] != 0;\\n    }\\n\\n    /**\\n     * @dev Returns the number of values on the set. O(1).\\n     */\\n    function _length(Set storage set) private view returns (uint256) {\\n        return set._values.length;\\n    }\\n\\n    /**\\n     * @dev Returns the value stored at position `index` in the set. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function _at(Set storage set, uint256 index) private view returns (bytes32) {\\n        return set._values[index];\\n    }\\n\\n    /**\\n     * @dev Return the entire set in an array\\n     *\\n     * WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed\\n     * to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that\\n     * this function has an unbounded cost, and using it as part of a state-changing function may render the function\\n     * uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.\\n     */\\n    function _values(Set storage set) private view returns (bytes32[] memory) {\\n        return set._values;\\n    }\\n\\n    // Bytes32Set\\n\\n    struct Bytes32Set {\\n        Set _inner;\\n    }\\n\\n    /**\\n     * @dev Add a value to a set. O(1).\\n     *\\n     * Returns true if the value was added to the set, that is if it was not\\n     * already present.\\n     */\\n    function add(Bytes32Set storage set, bytes32 value) internal returns (bool) {\\n        return _add(set._inner, value);\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the value was removed from the set, that is if it was\\n     * present.\\n     */\\n    function remove(Bytes32Set storage set, bytes32 value) internal returns (bool) {\\n        return _remove(set._inner, value);\\n    }\\n\\n    /**\\n     * @dev Returns true if the value is in the set. O(1).\\n     */\\n    function contains(Bytes32Set storage set, bytes32 value) internal view returns (bool) {\\n        return _contains(set._inner, value);\\n    }\\n\\n    /**\\n     * @dev Returns the number of values in the set. O(1).\\n     */\\n    function length(Bytes32Set storage set) internal view returns (uint256) {\\n        return _length(set._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the value stored at position `index` in the set. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(Bytes32Set storage set, uint256 index) internal view returns (bytes32) {\\n        return _at(set._inner, index);\\n    }\\n\\n    /**\\n     * @dev Return the entire set in an array\\n     *\\n     * WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed\\n     * to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that\\n     * this function has an unbounded cost, and using it as part of a state-changing function may render the function\\n     * uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.\\n     */\\n    function values(Bytes32Set storage set) internal view returns (bytes32[] memory) {\\n        bytes32[] memory store = _values(set._inner);\\n        bytes32[] memory result;\\n\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            result := store\\n        }\\n\\n        return result;\\n    }\\n\\n    // AddressSet\\n\\n    struct AddressSet {\\n        Set _inner;\\n    }\\n\\n    /**\\n     * @dev Add a value to a set. O(1).\\n     *\\n     * Returns true if the value was added to the set, that is if it was not\\n     * already present.\\n     */\\n    function add(AddressSet storage set, address value) internal returns (bool) {\\n        return _add(set._inner, bytes32(uint256(uint160(value))));\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the value was removed from the set, that is if it was\\n     * present.\\n     */\\n    function remove(AddressSet storage set, address value) internal returns (bool) {\\n        return _remove(set._inner, bytes32(uint256(uint160(value))));\\n    }\\n\\n    /**\\n     * @dev Returns true if the value is in the set. O(1).\\n     */\\n    function contains(AddressSet storage set, address value) internal view returns (bool) {\\n        return _contains(set._inner, bytes32(uint256(uint160(value))));\\n    }\\n\\n    /**\\n     * @dev Returns the number of values in the set. O(1).\\n     */\\n    function length(AddressSet storage set) internal view returns (uint256) {\\n        return _length(set._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the value stored at position `index` in the set. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(AddressSet storage set, uint256 index) internal view returns (address) {\\n        return address(uint160(uint256(_at(set._inner, index))));\\n    }\\n\\n    /**\\n     * @dev Return the entire set in an array\\n     *\\n     * WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed\\n     * to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that\\n     * this function has an unbounded cost, and using it as part of a state-changing function may render the function\\n     * uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.\\n     */\\n    function values(AddressSet storage set) internal view returns (address[] memory) {\\n        bytes32[] memory store = _values(set._inner);\\n        address[] memory result;\\n\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            result := store\\n        }\\n\\n        return result;\\n    }\\n\\n    // UintSet\\n\\n    struct UintSet {\\n        Set _inner;\\n    }\\n\\n    /**\\n     * @dev Add a value to a set. O(1).\\n     *\\n     * Returns true if the value was added to the set, that is if it was not\\n     * already present.\\n     */\\n    function add(UintSet storage set, uint256 value) internal returns (bool) {\\n        return _add(set._inner, bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the value was removed from the set, that is if it was\\n     * present.\\n     */\\n    function remove(UintSet storage set, uint256 value) internal returns (bool) {\\n        return _remove(set._inner, bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Returns true if the value is in the set. O(1).\\n     */\\n    function contains(UintSet storage set, uint256 value) internal view returns (bool) {\\n        return _contains(set._inner, bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Returns the number of values in the set. O(1).\\n     */\\n    function length(UintSet storage set) internal view returns (uint256) {\\n        return _length(set._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the value stored at position `index` in the set. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(UintSet storage set, uint256 index) internal view returns (uint256) {\\n        return uint256(_at(set._inner, index));\\n    }\\n\\n    /**\\n     * @dev Return the entire set in an array\\n     *\\n     * WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed\\n     * to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that\\n     * this function has an unbounded cost, and using it as part of a state-changing function may render the function\\n     * uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.\\n     */\\n    function values(UintSet storage set) internal view returns (uint256[] memory) {\\n        bytes32[] memory store = _values(set._inner);\\n        uint256[] memory result;\\n\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            result := store\\n        }\\n\\n        return result;\\n    }\\n}\\n\",\"keccak256\":\"0x9f4357008a8f7d8c8bf5d48902e789637538d8c016be5766610901b4bba81514\",\"license\":\"MIT\"},\"contracts/facets/GettersFacet.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\r\\n\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\r\\nimport {AggregatorV3Interface} from \\\"@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\\\";\\r\\nimport {IGetters} from \\\"../interfaces/IGetters.sol\\\";\\r\\nimport {IZaynVaultV2TakaDao} from \\\"../interfaces/IZaynVaultV2TakaDao.sol\\\";\\r\\n\\r\\nimport {LibTermStorage} from \\\"../libraries/LibTermStorage.sol\\\";\\r\\nimport {LibCollateral} from \\\"../libraries/LibCollateral.sol\\\";\\r\\nimport {LibCollateralStorage} from \\\"../libraries/LibCollateralStorage.sol\\\";\\r\\nimport {LibFundStorage} from \\\"../libraries/LibFundStorage.sol\\\";\\r\\nimport {LibYieldGenerationStorage} from \\\"../libraries/LibYieldGenerationStorage.sol\\\";\\r\\nimport {LibYieldGeneration} from \\\"../libraries/LibYieldGeneration.sol\\\";\\r\\nimport {EnumerableSet} from \\\"@openzeppelin/contracts/utils/structs/EnumerableSet.sol\\\";\\r\\nimport {LibGettersHelpers} from \\\"../libraries/LibGettersHelpers.sol\\\";\\r\\n\\r\\n/// @title Takaturn Getters Facet\\r\\n/// @author Maikel Ordaz\\r\\n/// @notice Getters for Takaturn protocol\\r\\n/// @dev v3.0 (Diamond)\\r\\ncontract GettersFacet is IGetters {\\r\\n    using EnumerableSet for EnumerableSet.AddressSet;\\r\\n\\r\\n    /// @notice This function is used as a helper for front-end implementation\\r\\n    /// @param termId The term id for which the summary is being requested\\r\\n    /// @return term The term object\\r\\n    /// @return collateralState The current state of the collateral\\r\\n    /// @return fundState The current state of the fund\\r\\n    /// @return nonUserRelated A helper struct with the following values:\\r\\n    ///                        available positions, security deposits corresponding to each position,\\r\\n    ///                        remaining registration time, remaining contribution time,\\r\\n    ///                        remaining cycle time, remaining cycles, remaining cycles\\r\\n    ///                        contribution in wei, latest price from Chainlink, collateral\\r\\n    ///                        first deposit time in seconds, collateral counter members,\\r\\n    ///                        fund start time in seconds, fund end time in seconds, current\\r\\n    ///                        cycle, expelled participants, total amount of cycles, yield\\r\\n    ///                        start time in seconds, total deposit in wei, current total\\r\\n    ///                        deposit in wei, total shares, users opted in for yield\\r\\n    function getTermRelatedSummary(\\r\\n        uint termId\\r\\n    )\\r\\n        external\\r\\n        view\\r\\n        returns (\\r\\n            LibTermStorage.Term memory term,\\r\\n            LibCollateralStorage.CollateralStates collateralState,\\r\\n            LibFundStorage.FundStates fundState,\\r\\n            LibGettersHelpers.NonUserRelated memory nonUserRelated\\r\\n        )\\r\\n    {\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        term = LibTermStorage._termStorage().terms[termId];\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n\\r\\n        (\\r\\n            uint[] memory joinPositions,\\r\\n            uint[] memory joinAmounts\\r\\n        ) = getAvailablePositionsAndSecurityAmount(termId);\\r\\n\\r\\n        collateralState = collateral.state;\\r\\n        fundState = fund.currentState;\\r\\n\\r\\n        nonUserRelated = LibGettersHelpers.NonUserRelated({\\r\\n            availablePositions: joinPositions,\\r\\n            securityDeposits: joinAmounts,\\r\\n            remainingRegistrationTime: getRemainingRegistrationTime(termId),\\r\\n            remainingContributionTime: getRemainingContributionTime(termId),\\r\\n            remainingCycleTime: getRemainingCycleTime(termId),\\r\\n            remainingCycles: getRemainingCycles(termId),\\r\\n            rcc: getRemainingCyclesContributionWei(termId),\\r\\n            latestPrice: getLatestPrice(),\\r\\n            collateralInitialized: collateral.initialized,\\r\\n            collateralFirstDepositTime: collateral.firstDepositTime,\\r\\n            collateralCounterMembers: collateral.counterMembers,\\r\\n            fundInitialized: fund.initialized,\\r\\n            fundStartTime: fund.fundStart,\\r\\n            fundEndTime: fund.fundEnd,\\r\\n            fundCurrentCycle: fund.currentCycle,\\r\\n            fundExpellantsCount: fund.expelledParticipants,\\r\\n            fundTotalCycles: fund.totalAmountOfCycles,\\r\\n            fundBeneficiariesOrder: fund.beneficiariesOrder,\\r\\n            yieldInitialized: yield.initialized,\\r\\n            yieldStartTime: yield.startTimeStamp,\\r\\n            yieldTotalDeposit: yield.totalDeposit,\\r\\n            yieldCurrentTotalDeposit: yield.currentTotalDeposit,\\r\\n            yieldTotalShares: yield.totalShares,\\r\\n            yieldUsers: yield.yieldUsers\\r\\n        });\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used as a helper for front-end implementation\\r\\n    /// @param user the depositor address\\r\\n    /// @param termId the collateral id\\r\\n    /// @return userRelated an object that contains the following values:\\r\\n    ///                     user is collateral member, user is undercollaterized,\\r\\n    ///                     current collateral balance, received collateral from defaults,\\r\\n    ///                     initial deposited collateral, collateral expulsion limit,\\r\\n    ///                     currently withdrawable balance, is fund member, is or was beneficiary,\\r\\n    ///                     user paid current cycle, user paid next cycle in advance,\\r\\n    ///                     user enabled autopay, user's money pot is frozen, user is exempted this\\r\\n    ///                     cycle, the money pot pool the user can withdraw, the cycle the user got\\r\\n    ///                     expelled (if applicable), is yield member, amount of collateral deposited\\r\\n    ///                     in yield pool, amount of collateral withdrawn from yield pool, available\\r\\n    ///                     yield to withdraw, amount of yield withdrawn, yield to be distributed\\r\\n    function getUserRelatedSummary(\\r\\n        address user,\\r\\n        uint termId\\r\\n    ) external view returns (LibGettersHelpers.UserRelated memory userRelated) {\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[termId];\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n\\r\\n        bool beneficiary = fund.isBeneficiary[user]; // true if user has been beneficiary\\r\\n\\r\\n        userRelated.collateralMember = collateral.isCollateralMember[user]; // true if member\\r\\n        userRelated.isUnderCollaterized = LibCollateral._isUnderCollaterized(termId, user); // checks if user is undercollaterized\\r\\n        userRelated.membersBank = collateral.collateralMembersBank[user];\\r\\n        userRelated.paymentBank = collateral.collateralPaymentBank[user];\\r\\n        userRelated.deposited = collateral.collateralDepositByUser[user];\\r\\n        userRelated.fundMember = fund.isParticipant[user]; // true if participant\\r\\n        userRelated.beneficiary = beneficiary; // true if user has been beneficiary\\r\\n        userRelated.currentCyclePaid = fund.paidThisCycle[user]; // true if has paid current cycle\\r\\n        userRelated.nextCyclePaid = fund.paidNextCycle[user]; // true if has paid next cycle\\r\\n        userRelated.autoPayer = fund.autoPayEnabled[user]; // true if enabled auto pay\\r\\n        userRelated.moneyPotFrozen = _checkFrozenMoneyPot(user, termId); // true if money pot is frozen\\r\\n        userRelated.exemptedThisCycle = fund.isExemptedOnCycle[fund.currentCycle].exempted[user];\\r\\n        userRelated.yieldMember = yield.hasOptedIn[user]; // true if deposit on yield\\r\\n        userRelated.withdrawableBalance = getWithdrawableUserBalance(termId, user); // Gets the amount of collateral the user can withdraw right now\\r\\n\\r\\n        if (collateral.state != LibCollateralStorage.CollateralStates.AcceptingCollateral) {\\r\\n            uint limit;\\r\\n            if (beneficiary) {\\r\\n                // limit is determined by whether the user is beneficiary or not\\r\\n                limit = getRemainingCyclesContributionWei(termId);\\r\\n            } else {\\r\\n                limit = getToCollateralConversionRate(term.contributionAmount * 10 ** 18);\\r\\n            }\\r\\n\\r\\n            userRelated.expulsonLimit = limit;\\r\\n            userRelated.pool = fund.beneficiariesPool[user];\\r\\n            userRelated.cycleExpelled = fund.cycleOfExpulsion[user];\\r\\n\\r\\n            if (yield.hasOptedIn[user]) {\\r\\n                userRelated.collateralDepositedInYield = yield.depositedCollateralByUser[user];\\r\\n                userRelated.collateralWithdrawnFromYield = yield.withdrawnCollateral[user];\\r\\n                userRelated.yieldAvailable = yield.availableYield[user];\\r\\n                userRelated.yieldWithdrawn = yield.withdrawnYield[user];\\r\\n                userRelated.distributedYield = LibYieldGeneration._unwithdrawnUserYieldGenerated(\\r\\n                    termId,\\r\\n                    user\\r\\n                );\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice This function return the current constant values for oracles and yield providers\\r\\n    /// @param firstAggregator The name of the first aggregator. Example: \\\"ETH/USD\\\"\\r\\n    /// @param secondAggregator The name of the second aggregator. Example: \\\"USDC/USD\\\"\\r\\n    /// @param zapAddress The name of the zap address. Example: \\\"ZaynZap\\\"\\r\\n    /// @param vaultAddress The name of the vault address. Example: \\\"ZaynVault\\\"\\r\\n    /// @return The addresses of the oracles and yield providers\\r\\n    function getConstants(\\r\\n        string memory firstAggregator,\\r\\n        string memory secondAggregator,\\r\\n        string memory zapAddress,\\r\\n        string memory vaultAddress\\r\\n    ) external view returns (address, address, address, address) {\\r\\n        LibTermStorage.TermConsts storage termConsts = LibTermStorage._termConsts();\\r\\n        LibYieldGenerationStorage.YieldProviders storage yieldProvider = LibYieldGenerationStorage\\r\\n            ._yieldProviders();\\r\\n\\r\\n        return (\\r\\n            termConsts.aggregatorsAddresses[firstAggregator],\\r\\n            termConsts.aggregatorsAddresses[secondAggregator],\\r\\n            yieldProvider.providerAddresses[zapAddress],\\r\\n            yieldProvider.providerAddresses[vaultAddress]\\r\\n        );\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to get the current state of the yield lock\\r\\n    /// @return The current state of the yield lock\\r\\n    function getYieldLockState() external view returns (bool) {\\r\\n        return LibYieldGenerationStorage._yieldLock().yieldLock;\\r\\n    }\\r\\n\\r\\n    /// @return the current term id\\r\\n    /// @return the next term id\\r\\n    function getTermsId() external view returns (uint, uint) {\\r\\n        LibTermStorage.TermStorage storage termStorage = LibTermStorage._termStorage();\\r\\n        uint lastTermId = termStorage.nextTermId - 1;\\r\\n        uint nextTermId = termStorage.nextTermId;\\r\\n        return (lastTermId, nextTermId);\\r\\n    }\\r\\n\\r\\n    /// @notice Gets the term object\\r\\n    /// @param termId the term id\\r\\n    /// @return the term object\\r\\n    function getTermSummary(uint termId) external view returns (LibTermStorage.Term memory) {\\r\\n        return (LibTermStorage._termStorage().terms[termId]);\\r\\n    }\\r\\n\\r\\n    /// @notice function to get the collateral object\\r\\n    /// @param termId the collateral id\\r\\n    /// @return if collateral initialized\\r\\n    /// @return current collateral state\\r\\n    /// @return time of first deposit\\r\\n    /// @return current members count\\r\\n    /// @return list of depositors\\r\\n    function getCollateralSummary(\\r\\n        uint termId\\r\\n    )\\r\\n        external\\r\\n        view\\r\\n        returns (bool, LibCollateralStorage.CollateralStates, uint, uint, address[] memory)\\r\\n    {\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n        return (\\r\\n            collateral.initialized,\\r\\n            collateral.state, // Current state of Collateral\\r\\n            collateral.firstDepositTime, // Time when the first deposit was made\\r\\n            collateral.counterMembers, // Current member count\\r\\n            collateral.depositors // List of depositors\\r\\n        );\\r\\n    }\\r\\n\\r\\n    /// @notice function to get the cycle information in one go\\r\\n    /// @param termId the fund id\\r\\n    /// @return if fund initialized\\r\\n    /// @return current fund state\\r\\n    /// @return stable token address used\\r\\n    /// @return list of beneficiaries order\\r\\n    /// @return when the fund starts in seconds\\r\\n    /// @return when the fund ended, 0 if not ended\\r\\n    /// @return current cycle number\\r\\n    /// @return total amount of cycles\\r\\n    function getFundSummary(\\r\\n        uint termId\\r\\n    )\\r\\n        external\\r\\n        view\\r\\n        returns (bool, LibFundStorage.FundStates, IERC20, address[] memory, uint, uint, uint, uint)\\r\\n    {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        return (\\r\\n            fund.initialized,\\r\\n            fund.currentState,\\r\\n            fund.stableToken,\\r\\n            fund.beneficiariesOrder,\\r\\n            fund.fundStart,\\r\\n            fund.fundEnd,\\r\\n            fund.currentCycle,\\r\\n            fund.totalAmountOfCycles\\r\\n        );\\r\\n    }\\r\\n\\r\\n    /// @notice Gets the yield object\\r\\n    /// @param termId the collateral id\\r\\n    /// @return if the yield is initialized\\r\\n    /// @return start time stamp for yield deposit\\r\\n    /// @return total deposit\\r\\n    /// @return current amount in yield\\r\\n    /// @return amount of total shares\\r\\n    /// @return list of yield users\\r\\n    /// @return address of vault\\r\\n    /// @return address of zap\\r\\n    function getYieldSummary(\\r\\n        uint termId\\r\\n    ) external view returns (bool, uint, uint, uint, uint, address[] memory, address, address) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n        return (\\r\\n            yield.initialized,\\r\\n            yield.startTimeStamp,\\r\\n            yield.totalDeposit,\\r\\n            yield.currentTotalDeposit,\\r\\n            yield.totalShares,\\r\\n            yield.yieldUsers,\\r\\n            yield.providerAddresses[\\\"ZaynVault\\\"],\\r\\n            yield.providerAddresses[\\\"ZaynZap\\\"]\\r\\n        );\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to get a term APY\\r\\n    /// @param termId The term id for which the APY is being calculated\\r\\n    /// @return The APY for the term\\r\\n    function termAPY(uint termId) external view returns (uint256) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n\\r\\n        uint256 elaspedTime = block.timestamp - yield.startTimeStamp;\\r\\n\\r\\n        return\\r\\n            (((totalYieldGenerated(termId) * 10 ** 18) / yield.currentTotalDeposit) * 365 days) /\\r\\n            elaspedTime;\\r\\n    }\\r\\n\\r\\n    /// @notice a function to get the needed allowance for every active term the user is part of\\r\\n    /// @param user the user address\\r\\n    /// @return the needed allowance\\r\\n    function getNeededAllowance(address user) external view returns (uint) {\\r\\n        uint neededAllowance;\\r\\n\\r\\n        uint[] memory activeTerms = getJoinedTermsByState(\\r\\n            user,\\r\\n            LibTermStorage.TermStates.ActiveTerm\\r\\n        );\\r\\n        uint[] memory initializedTerms = getJoinedTermsByState(\\r\\n            user,\\r\\n            LibTermStorage.TermStates.InitializingTerm\\r\\n        );\\r\\n\\r\\n        uint activeTermsLength = activeTerms.length;\\r\\n        uint initializedTermsLength = initializedTerms.length;\\r\\n\\r\\n        for (uint i; i < activeTermsLength; ) {\\r\\n            LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[activeTerms[i]];\\r\\n            uint remainingPayments = term.contributionAmount *\\r\\n                getRemainingCycles(activeTerms[i]) *\\r\\n                10 ** 6;\\r\\n            neededAllowance += remainingPayments;\\r\\n\\r\\n            /// @custom:unchecked-block without risk, i can't be higher than activeTerms length\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        for (uint i; i < initializedTermsLength; ) {\\r\\n            LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[\\r\\n                initializedTerms[i]\\r\\n            ];\\r\\n            uint totalPayments = term.contributionAmount * term.totalParticipants * 10 ** 6;\\r\\n            neededAllowance += totalPayments;\\r\\n\\r\\n            /// @custom:unchecked-block without risk, i can't be higher than initializedTerms length\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        return neededAllowance;\\r\\n    }\\r\\n\\r\\n    /// @notice function to get the beneficiary from the current cycle\\r\\n    /// @param termId the fund id\\r\\n    /// @return the current beneficiary\\r\\n    function getCurrentBeneficiary(uint termId) external view returns (address) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        return fund.beneficiariesOrder[fund.currentCycle - 1];\\r\\n    }\\r\\n\\r\\n    /// @notice function to get the beneficiary from the next cycle\\r\\n    /// @param termId the fund id\\r\\n    /// @return the next beneficiary\\r\\n    function getNextBeneficiary(uint termId) external view returns (address) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        return fund.beneficiariesOrder[fund.currentCycle];\\r\\n    }\\r\\n\\r\\n    /// @notice function to get the depositor collateral summary\\r\\n    /// @param depositor the depositor address\\r\\n    /// @param termId the collateral id\\r\\n    /// @return if the user is a true member of the term\\r\\n    /// @return current users locked collateral balance in wei\\r\\n    /// @return current users unlocked collateral balance in wei\\r\\n    /// @return initial users deposit in wei\\r\\n    /// @return expulsion limit\\r\\n    function getDepositorCollateralSummary(\\r\\n        address depositor,\\r\\n        uint termId\\r\\n    ) external view returns (bool, uint, uint, uint, uint) {\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[termId];\\r\\n\\r\\n        uint limit;\\r\\n        if (!fund.isBeneficiary[depositor]) {\\r\\n            limit = getToCollateralConversionRate(term.contributionAmount * 10 ** 18);\\r\\n        } else {\\r\\n            limit = getRemainingCyclesContributionWei(termId);\\r\\n        }\\r\\n\\r\\n        return (\\r\\n            collateral.isCollateralMember[depositor],\\r\\n            collateral.collateralMembersBank[depositor],\\r\\n            collateral.collateralPaymentBank[depositor],\\r\\n            collateral.collateralDepositByUser[depositor],\\r\\n            limit\\r\\n        );\\r\\n    }\\r\\n\\r\\n    /// @notice function to get fund information of a specific participant\\r\\n    /// @param participant the user to get the info from\\r\\n    /// @param termId the fund id\\r\\n    /// @return isParticipant, true if is participant\\r\\n    /// @return isBeneficiary, true if has been beneficiary\\r\\n    /// @return paidThisCycle, true if has paid the current cycle\\r\\n    /// @return autoPayEnabled, true if auto pay is enabled\\r\\n    /// @return beneficiariesPool, the beneficiary pool, 6 decimals\\r\\n    /// @return beneficiariesFrozenPool, true if the beneficiary pool is frozen\\r\\n    function getParticipantFundSummary(\\r\\n        address participant,\\r\\n        uint termId\\r\\n    ) external view returns (bool, bool, bool, bool, uint, bool) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n\\r\\n        bool isMoneyPotFrozen = _checkFrozenMoneyPot(participant, termId);\\r\\n\\r\\n        return (\\r\\n            fund.isParticipant[participant],\\r\\n            fund.isBeneficiary[participant],\\r\\n            fund.paidThisCycle[participant],\\r\\n            fund.autoPayEnabled[participant],\\r\\n            fund.beneficiariesPool[participant],\\r\\n            isMoneyPotFrozen\\r\\n        );\\r\\n    }\\r\\n\\r\\n    /// @notice Gets the user yield summary\\r\\n    /// @param user the depositor address\\r\\n    /// @param termId the collateral id\\r\\n    /// @return if the user opted in for yield\\r\\n    /// @return amount withdrawn from yield\\r\\n    /// @return amount withdrawn from collateral\\r\\n    /// @return amount available in yield\\r\\n    /// @return amount deposited by user in yield\\r\\n    /// @return amount of yield distributed\\r\\n    function getUserYieldSummary(\\r\\n        address user,\\r\\n        uint termId\\r\\n    ) external view returns (bool, uint, uint, uint, uint, uint) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n\\r\\n        uint yieldDistributed = LibYieldGeneration._unwithdrawnUserYieldGenerated(termId, user);\\r\\n\\r\\n        return (\\r\\n            yield.hasOptedIn[user],\\r\\n            yield.withdrawnYield[user],\\r\\n            yield.withdrawnCollateral[user],\\r\\n            yield.availableYield[user],\\r\\n            yield.depositedCollateralByUser[user],\\r\\n            yieldDistributed\\r\\n        );\\r\\n    }\\r\\n\\r\\n    /// @notice function to get cycle information of a specific participant\\r\\n    /// @param participant the user to get the info from\\r\\n    /// @param termId the fund id\\r\\n    /// @return on participant set\\r\\n    /// @return on beneficiary set\\r\\n    /// @return on defaulter set\\r\\n    function getUserSet(address participant, uint termId) external view returns (bool, bool, bool) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        bool onParticipantSet = EnumerableSet.contains(fund._participants, participant);\\r\\n        bool onBeneficiarySet = EnumerableSet.contains(fund._beneficiaries, participant);\\r\\n        bool onDefaulterSet = EnumerableSet.contains(fund._defaulters, participant);\\r\\n        return (onParticipantSet, onBeneficiarySet, onDefaulterSet);\\r\\n    }\\r\\n\\r\\n    /// @notice Called to check how much collateral a user can withdraw\\r\\n    /// @param termId term id\\r\\n    /// @param user depositor address\\r\\n    /// @return allowedWithdrawal amount the amount of collateral the depositor can withdraw\\r\\n    function getWithdrawableUserBalance(\\r\\n        uint termId,\\r\\n        address user\\r\\n    ) public view returns (uint allowedWithdrawal) {\\r\\n        LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[termId];\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n\\r\\n        uint userCollateral = collateral.collateralMembersBank[user];\\r\\n        uint availableYield = yield.availableYield[user];\\r\\n        bool expelledBeforeBeingBeneficiary = fund.expelledBeforeBeneficiary[user];\\r\\n\\r\\n        if (\\r\\n            collateral.state == LibCollateralStorage.CollateralStates.ReleasingCollateral ||\\r\\n            expelledBeforeBeingBeneficiary\\r\\n        ) {\\r\\n            allowedWithdrawal = userCollateral + availableYield;\\r\\n        } else if (collateral.state == LibCollateralStorage.CollateralStates.CycleOngoing) {\\r\\n            uint minRequiredCollateral;\\r\\n\\r\\n            // Check if the user has paid this cycle or the next\\r\\n            if (!fund.paidThisCycle[user] && !fund.paidNextCycle[user]) {\\r\\n                // If none have been paid\\r\\n                // Everything above 1.5 X remaining cycles contribution (RCC) can be withdrawn\\r\\n                minRequiredCollateral = (getRemainingCyclesContributionWei(termId) * 15) / 10; // 1.5 X RCC in wei\\r\\n            }\\r\\n\\r\\n            // If the user has paid only one of the cycles, current or next\\r\\n            if (\\r\\n                (fund.paidThisCycle[user] && !fund.paidNextCycle[user]) ||\\r\\n                (fund.paidNextCycle[user] && !fund.paidThisCycle[user])\\r\\n            ) {\\r\\n                // We need to check his remaining cycles and get the contribution amount for those\\r\\n                uint remainingCycles = fund.totalAmountOfCycles - fund.currentCycle;\\r\\n                uint contributionAmountWei = getToCollateralConversionRate(\\r\\n                    term.contributionAmount * 10 ** 18\\r\\n                );\\r\\n\\r\\n                minRequiredCollateral = (remainingCycles * contributionAmountWei * 15) / 10; // 1.5 times of what the user needs to pay for the remaining cycles\\r\\n            }\\r\\n\\r\\n            // If the user has paid both cycles, current and next\\r\\n            if (fund.paidThisCycle[user] && fund.paidNextCycle[user]) {\\r\\n                // We need to check his remaining cycles and get the contribution amount for those\\r\\n                uint remainingCycles = fund.totalAmountOfCycles - fund.currentCycle - 1;\\r\\n                uint contributionAmountWei = getToCollateralConversionRate(\\r\\n                    term.contributionAmount * 10 ** 18\\r\\n                );\\r\\n\\r\\n                minRequiredCollateral = (remainingCycles * contributionAmountWei * 15) / 10; // 1.5 times of what the user needs to pay for the remaining cycles\\r\\n            }\\r\\n\\r\\n            // Collateral must be higher than 1.5 X RCC\\r\\n            if (userCollateral > minRequiredCollateral) {\\r\\n                allowedWithdrawal = userCollateral - minRequiredCollateral + availableYield; // We allow to withdraw the positive difference\\r\\n            } else {\\r\\n                allowedWithdrawal = 0;\\r\\n            }\\r\\n        } else {\\r\\n            allowedWithdrawal = 0;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice Get all the terms a participant was expelled from\\r\\n    /// @param participant the participant address\\r\\n    /// @return an array the term ids on which the participant was expelled\\r\\n    function getExpelledTerms(address participant) external view returns (uint[] memory) {\\r\\n        uint[] memory joinedTerms = getAllJoinedTerms(participant);\\r\\n        uint[] memory temporaryArray = new uint[](joinedTerms.length);\\r\\n        uint termsCounter;\\r\\n        uint joinedTermsLength = joinedTerms.length;\\r\\n\\r\\n        for (uint i; i < joinedTermsLength; ) {\\r\\n            if (wasExpelled(joinedTerms[i], participant)) {\\r\\n                temporaryArray[termsCounter] = joinedTerms[i];\\r\\n\\r\\n                /// @custom:unchecked-block without risk, termsCounter can't be higher than joinedTerms length\\r\\n                unchecked {\\r\\n                    ++termsCounter;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            /// @custom:unchecked-block without risk, i can't be higher than joinedTerms length\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        uint[] memory termsExpelled = new uint[](termsCounter);\\r\\n\\r\\n        for (uint i; i < termsCounter; ) {\\r\\n            termsExpelled[i] = temporaryArray[i];\\r\\n\\r\\n            /// @custom:unchecked-block without risk, i can't be higher than termsCounter\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        return termsExpelled;\\r\\n    }\\r\\n\\r\\n    /// @notice Checks if a user has a collateral below 1.0x of total contribution amount\\r\\n    /// @dev This will revert if called during ReleasingCollateral or after\\r\\n    /// @param termId The term id\\r\\n    /// @param member The user to check for\\r\\n    /// @return Bool check if member is below 1.0x of collateralDeposit\\r\\n    function isUnderCollaterized(uint termId, address member) external view returns (bool) {\\r\\n        return LibCollateral._isUnderCollaterized(termId, member);\\r\\n    }\\r\\n\\r\\n    /// @notice function to see if a user is exempted from paying a cycle\\r\\n    /// @param termId the fund id\\r\\n    /// @param cycle the cycle to check\\r\\n    /// @param user the user to check\\r\\n    /// @return true if the user is exempted\\r\\n    function isExempted(uint termId, uint cycle, address user) external view returns (bool) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        return fund.isExemptedOnCycle[cycle].exempted[user];\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to check if a user has opted in for yield generation\\r\\n    /// @param termId The term id for which the check is being made\\r\\n    /// @param user The user for which the check is being made\\r\\n    /// @return True if the user has opted in\\r\\n    function userHasoptedInYG(uint termId, address user) external view returns (bool) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n\\r\\n        return yield.hasOptedIn[user];\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to get a user APY\\r\\n    /// @param termId The term id for which the APY is being calculated\\r\\n    /// @param user The user for which the APY is being calculated\\r\\n    /// @return The APY for the user\\r\\n    function userAPY(uint termId, address user) external view returns (uint256) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n\\r\\n        uint256 elaspedTime = block.timestamp - yield.startTimeStamp;\\r\\n\\r\\n        uint userYieldGenerated = yield.withdrawnYield[user] +\\r\\n            LibYieldGeneration._unwithdrawnUserYieldGenerated(termId, user);\\r\\n\\r\\n        return\\r\\n            (((userYieldGenerated * 10 ** 18) / collateral.collateralMembersBank[user]) *\\r\\n                365 days) / elaspedTime;\\r\\n    }\\r\\n\\r\\n    /// @notice function to get fund information of a specific participant\\r\\n    /// @param participant the user to get the info from\\r\\n    /// @param termId the fund id\\r\\n    /// @return paidThisCycle, true if has paid the current cycle\\r\\n    /// @return paidNextCycle, true if has paid the next cycle\\r\\n    function currentOrNextCyclePaid(\\r\\n        address participant,\\r\\n        uint termId\\r\\n    ) external view returns (bool, bool) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n\\r\\n        return (fund.paidThisCycle[participant], fund.paidNextCycle[participant]);\\r\\n    }\\r\\n\\r\\n    /// @notice checks if a participant have been a beneficiary\\r\\n    /// @param termId the id of the term\\r\\n    /// @param beneficiary the address of the participant to check\\r\\n    /// @return true if the participant is a beneficiary\\r\\n    function isBeneficiary(uint termId, address beneficiary) external view returns (bool) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        return fund.isBeneficiary[beneficiary];\\r\\n    }\\r\\n\\r\\n    /// @notice function to know if a user was expelled before\\r\\n    /// @param termId the fund id\\r\\n    /// @param user the user to check\\r\\n    /// @return true if the user was expelled before\\r\\n    function wasExpelled(uint termId, address user) public view returns (bool) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n\\r\\n        if (!fund.isParticipant[user] && !collateral.isCollateralMember[user]) {\\r\\n            return true;\\r\\n        } else {\\r\\n            return false;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice checks if a participant have been expelled before being a beneficiary\\r\\n    /// @param termId the id of the term\\r\\n    /// @param user the address of the participant to check\\r\\n    /// @return true if the participant is expelled before being a beneficiary\\r\\n    function expelledBeforeBeneficiary(uint termId, address user) external view returns (bool) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        return fund.expelledBeforeBeneficiary[user];\\r\\n    }\\r\\n\\r\\n    /// @notice Gets the conversion rate of an amount in ETH to USD\\r\\n    /// @param ethAmount The amount in ETH\\r\\n    /// @return uint converted amount in USD correct to 18 decimals\\r\\n    function getToStableConversionRate(uint ethAmount) external view returns (uint) {\\r\\n        // NOTE: This will be made internal\\r\\n        uint ethPrice = getLatestPrice();\\r\\n        uint ethAmountInUSD = (ethPrice * ethAmount) / 10 ** 18;\\r\\n        return ethAmountInUSD;\\r\\n    }\\r\\n\\r\\n    /// @notice Get the term's remaining cycles\\r\\n    /// @param termId the term id\\r\\n    /// @return remaining cycles\\r\\n    function getRemainingCycles(uint termId) public view returns (uint) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n\\r\\n        return (1 + fund.totalAmountOfCycles - fund.currentCycle);\\r\\n    }\\r\\n\\r\\n    /// @notice Get the term's remaining contribution amount converted from USDC to wei\\r\\n    /// @param termId the term id\\r\\n    /// @return remaining cycles contribution in wei\\r\\n    function getRemainingCyclesContributionWei(uint termId) public view returns (uint) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[termId];\\r\\n\\r\\n        uint remainingCycles;\\r\\n\\r\\n        if (fund.currentState == LibFundStorage.FundStates.InitializingFund) {\\r\\n            remainingCycles = term.totalParticipants;\\r\\n        } else if (\\r\\n            fund.currentState == LibFundStorage.FundStates.AcceptingContributions ||\\r\\n            fund.currentState == LibFundStorage.FundStates.AwardingBeneficiary\\r\\n        ) {\\r\\n            remainingCycles = getRemainingCycles(termId);\\r\\n        } else if (fund.currentState == LibFundStorage.FundStates.CycleOngoing) {\\r\\n            remainingCycles = getRemainingCycles(termId) - 1;\\r\\n        } else if (fund.currentState == LibFundStorage.FundStates.FundClosed) {\\r\\n            remainingCycles = 0;\\r\\n        }\\r\\n\\r\\n        uint contributionAmountWei = getToCollateralConversionRate(\\r\\n            term.contributionAmount * 10 ** 18\\r\\n        );\\r\\n\\r\\n        return remainingCycles * contributionAmountWei;\\r\\n    }\\r\\n\\r\\n    /// @notice Called to check the minimum collateral amount to deposit in wei\\r\\n    /// @param termId term id\\r\\n    /// @param depositorIndex the index the depositor wants to join\\r\\n    /// @return amount the minimum collateral amount to deposit in wei\\r\\n    /// @dev The minimum collateral amount is calculated based on the index on the depositors array\\r\\n    /// @dev The return value should be the minimum msg.value when calling joinTerm\\r\\n    /// @dev C = 1.5 Cp (Tp - I) where C = minimum collateral amount, Cp = contribution amount,\\r\\n    ///      Tp = total participants, I = depositor index (starts at 0). 1.5\\r\\n    function minCollateralToDeposit(\\r\\n        uint termId,\\r\\n        uint depositorIndex\\r\\n    ) public view returns (uint amount) {\\r\\n        LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[termId];\\r\\n\\r\\n        require(depositorIndex < term.totalParticipants, \\\"TT-GF-01\\\");\\r\\n\\r\\n        uint contributionAmountInWei = getToCollateralConversionRate(\\r\\n            term.contributionAmount * 10 ** 18\\r\\n        );\\r\\n\\r\\n        amount = (contributionAmountInWei * (term.totalParticipants - depositorIndex) * 150) / 100;\\r\\n    }\\r\\n\\r\\n    /// @notice Gets latest ETH / USD price\\r\\n    /// @dev Revert if there is problem with chainlink data\\r\\n    /// @return uint latest price in Wei Note: 18 decimals\\r\\n    function getLatestPrice() public view returns (uint) {\\r\\n        LibTermStorage.TermConsts storage termConsts = LibTermStorage._termConsts();\\r\\n\\r\\n        (\\r\\n            uint80 roundID_ethUSD,\\r\\n            int256 price_ethUSD,\\r\\n            ,\\r\\n            /*uint startedAt*/ uint256 timeStamp_ethUSD,\\r\\n            uint80 answeredInRound_ethUSD\\r\\n        ) = AggregatorV3Interface(termConsts.aggregatorsAddresses[\\\"ETH/USD\\\"]).latestRoundData(); //8 decimals\\r\\n\\r\\n        // Check if chainlink data is not stale or incorrect\\r\\n        require(\\r\\n            timeStamp_ethUSD != 0 && answeredInRound_ethUSD >= roundID_ethUSD && price_ethUSD > 0,\\r\\n            \\\"TT-GF-02\\\"\\r\\n        );\\r\\n\\r\\n        (\\r\\n            uint80 roundID_usdUSDC,\\r\\n            int256 price_usdUSDC,\\r\\n            ,\\r\\n            /*uint startedAt*/ uint256 timeStamp_usdUSDC,\\r\\n            uint80 answeredInRound_usdUSDC\\r\\n        ) = AggregatorV3Interface(termConsts.aggregatorsAddresses[\\\"USDC/USD\\\"]).latestRoundData(); //8 decimals\\r\\n\\r\\n        require(\\r\\n            timeStamp_usdUSDC != 0 &&\\r\\n                answeredInRound_usdUSDC >= roundID_usdUSDC &&\\r\\n                price_usdUSDC > 0,\\r\\n            \\\"TT-GF-02\\\"\\r\\n        );\\r\\n\\r\\n        int256 ethUSDC = price_ethUSD / price_usdUSDC;\\r\\n\\r\\n        return uint(ethUSDC * 10 ** 18); //18 decimals\\r\\n    }\\r\\n\\r\\n    /// @notice Gets the conversion rate of an amount in USD to ETH\\r\\n    /// @param USDAmount The amount in USD with 18 decimals\\r\\n    /// @return uint converted amount in wei\\r\\n    function getToCollateralConversionRate(uint USDAmount) public view returns (uint) {\\r\\n        uint ethPrice = getLatestPrice();\\r\\n        uint USDAmountInEth = (USDAmount * 10 ** 18) / ethPrice;\\r\\n        return USDAmountInEth;\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to get the total yield generated for a term\\r\\n    /// @param termId The term id for which the yield is being calculated\\r\\n    /// @return The total yield generated for the term\\r\\n    function totalYieldGenerated(uint termId) public view returns (uint) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[termId];\\r\\n\\r\\n        uint totalWithdrawnYield;\\r\\n\\r\\n        address[] memory arrayToCheck = yield.yieldUsers;\\r\\n        uint arrayLength = arrayToCheck.length;\\r\\n\\r\\n        for (uint i; i < arrayLength; ) {\\r\\n            totalWithdrawnYield += yield.withdrawnYield[arrayToCheck[i]];\\r\\n\\r\\n            /// @custom:unchecked-block without risk, i can't be higher than arrayLength\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        uint sharesInEth = LibYieldGeneration._sharesToEth(termId, yield);\\r\\n\\r\\n        if (sharesInEth > yield.currentTotalDeposit) {\\r\\n            return totalWithdrawnYield + sharesInEth - yield.currentTotalDeposit;\\r\\n        } else {\\r\\n            return totalWithdrawnYield;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice Get all the terms a participant is part of\\r\\n    /// @param participant the participant address\\r\\n    /// @return an array with the term ids the participant is part of\\r\\n    function getAllJoinedTerms(address participant) public view returns (uint[] memory) {\\r\\n        LibTermStorage.TermStorage storage termStorage = LibTermStorage._termStorage();\\r\\n        uint[] memory participantTermIds = termStorage.participantToTermId[participant];\\r\\n        return participantTermIds;\\r\\n    }\\r\\n\\r\\n    /// @notice Get all the terms a participant is part of by a given state\\r\\n    /// @param participant the participant address\\r\\n    /// @param state the term state\\r\\n    /// @return an array with the term ids the participant is part of, giving the state of the term\\r\\n    function getJoinedTermsByState(\\r\\n        address participant,\\r\\n        LibTermStorage.TermStates state\\r\\n    ) public view returns (uint[] memory) {\\r\\n        uint[] memory joinedTerms = getAllJoinedTerms(participant);\\r\\n        uint[] memory temporaryArray = new uint[](joinedTerms.length);\\r\\n        uint termsCounter;\\r\\n        uint joinedTermsLength = joinedTerms.length;\\r\\n\\r\\n        for (uint i; i < joinedTermsLength; ) {\\r\\n            if (LibTermStorage._termStorage().terms[joinedTerms[i]].state == state) {\\r\\n                temporaryArray[termsCounter] = joinedTerms[i];\\r\\n\\r\\n                /// @custom:unchecked-block without risk, termsCounter can't be higher than joinedTerms length\\r\\n                unchecked {\\r\\n                    ++termsCounter;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            /// @custom:unchecked-block without risk, i can't be higher than joinedTerms length\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        uint[] memory userTermsByState = new uint[](termsCounter);\\r\\n\\r\\n        for (uint i; i < termsCounter; ) {\\r\\n            userTermsByState[i] = temporaryArray[i];\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        return userTermsByState;\\r\\n    }\\r\\n\\r\\n    /// @notice Gets the remaining positions in a term and the corresponding security amount\\r\\n    /// @param termId the term id\\r\\n    /// @dev Available positions starts at 0\\r\\n    /// @return availablePositions an array with the available positions\\r\\n    /// @return securityAmount an array with the security amount for each available position\\r\\n    function getAvailablePositionsAndSecurityAmount(\\r\\n        uint termId\\r\\n    ) public view returns (uint[] memory, uint[] memory) {\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n\\r\\n        if (collateral.state != LibCollateralStorage.CollateralStates.AcceptingCollateral) {\\r\\n            return (new uint[](0), new uint[](0));\\r\\n        }\\r\\n\\r\\n        uint depositorsLength = collateral.depositors.length;\\r\\n        uint[] memory availablePositions = new uint[](depositorsLength);\\r\\n\\r\\n        uint availablePositionsCounter;\\r\\n\\r\\n        // Loop through the depositors array and get the available positions\\r\\n        for (uint i; i < depositorsLength; ) {\\r\\n            // The position is available if the depositor is address zero\\r\\n            if (collateral.depositors[i] == address(0)) {\\r\\n                // Add the position to the available positions array\\r\\n                availablePositions[availablePositionsCounter] = i;\\r\\n\\r\\n                // And increment the available positions counter\\r\\n                unchecked {\\r\\n                    ++availablePositionsCounter;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            /// @custom:unchecked-block without risk, i can't be higher than depositors length\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        // Create the arrays to return\\r\\n        // The available positions array will have the length of the available positions counter\\r\\n        // The security amount array will have the same length\\r\\n        uint[] memory availablePositionsArray = new uint[](availablePositionsCounter);\\r\\n        uint[] memory securityAmountArray = new uint[](availablePositionsCounter);\\r\\n\\r\\n        // Loop through the available positions counter and fill the arrays\\r\\n        for (uint i; i < availablePositionsCounter; ) {\\r\\n            availablePositionsArray[i] = availablePositions[i];\\r\\n            // Get the security amount for the position\\r\\n            securityAmountArray[i] = minCollateralToDeposit(termId, availablePositions[i]);\\r\\n            unchecked {\\r\\n                ++i;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        // Return the arrays, the available positions array and the security amount array are coupled\\r\\n        // availablePositionsArray[0] will have the securityAmountArray[0] and so on\\r\\n        return (availablePositionsArray, securityAmountArray);\\r\\n    }\\r\\n\\r\\n    /// @notice Gets the remaining registration period for a term\\r\\n    /// @dev Revert if nobody has deposited\\r\\n    /// @param termId the term id\\r\\n    /// @return remaining contribution period\\r\\n    function getRemainingRegistrationTime(uint termId) public view returns (uint) {\\r\\n        LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[termId];\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[termId];\\r\\n        if (\\r\\n            collateral.firstDepositTime == 0 ||\\r\\n            block.timestamp >= collateral.firstDepositTime + term.registrationPeriod\\r\\n        ) {\\r\\n            return 0;\\r\\n        } else {\\r\\n            return collateral.firstDepositTime + term.registrationPeriod - block.timestamp;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice returns the time left to contribute for this cycle\\r\\n    /// @param termId the fund id\\r\\n    /// @return the time left to contribute\\r\\n    function getRemainingContributionTime(uint termId) public view returns (uint) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[termId];\\r\\n        if (fund.currentState != LibFundStorage.FundStates.AcceptingContributions) {\\r\\n            return 0;\\r\\n        }\\r\\n\\r\\n        // Current cycle minus 1 because we use the previous cycle time as start point then add contribution period\\r\\n        uint contributionEndTimestamp = term.cycleTime *\\r\\n            (fund.currentCycle - 1) +\\r\\n            fund.fundStart +\\r\\n            term.contributionPeriod;\\r\\n        if (block.timestamp > contributionEndTimestamp) {\\r\\n            return 0;\\r\\n        } else {\\r\\n            return contributionEndTimestamp - block.timestamp;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice Get the term's remaining time in the current cycle\\r\\n    /// @param termId the term id\\r\\n    /// @return remaining time in the current cycle\\r\\n    function getRemainingCycleTime(uint termId) public view returns (uint) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[termId];\\r\\n        LibTermStorage.Term storage term = LibTermStorage._termStorage().terms[termId];\\r\\n        uint cycleEndTimestamp = term.cycleTime * fund.currentCycle + fund.fundStart;\\r\\n        if (block.timestamp > cycleEndTimestamp) {\\r\\n            return 0;\\r\\n        } else {\\r\\n            return cycleEndTimestamp - block.timestamp;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice checks if the money pot is frozen for a participant\\r\\n    /// @param _participant the user to check\\r\\n    /// @param _termId the fund id\\r\\n    /// @return _isMoneyPotFrozen true if the money pot is frozen\\r\\n    function _checkFrozenMoneyPot(\\r\\n        address _participant,\\r\\n        uint _termId\\r\\n    ) internal view returns (bool _isMoneyPotFrozen) {\\r\\n        LibFundStorage.Fund storage fund = LibFundStorage._fundStorage().funds[_termId];\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[_termId];\\r\\n\\r\\n        if (fund.expelledBeforeBeneficiary[_participant]) {\\r\\n            _isMoneyPotFrozen = false;\\r\\n        } else {\\r\\n            uint neededCollateral = (110 * getRemainingCyclesContributionWei(_termId)) / 100; // 1.1 x RCC\\r\\n\\r\\n            if (collateral.collateralMembersBank[_participant] < neededCollateral) {\\r\\n                _isMoneyPotFrozen = true;\\r\\n            } else {\\r\\n                _isMoneyPotFrozen = false;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0xc8632715916b6aa7639941b71d76c099d66b40781a9078b73fbbffda65c857ce\",\"license\":\"GPL-3.0\"},\"contracts/interfaces/IGetters.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\r\\n\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\r\\n\\r\\nimport {LibTermStorage} from \\\"../libraries/LibTermStorage.sol\\\";\\r\\nimport {LibCollateralStorage} from \\\"../libraries/LibCollateralStorage.sol\\\";\\r\\nimport {LibFundStorage} from \\\"../libraries/LibFundStorage.sol\\\";\\r\\nimport {LibGettersHelpers} from \\\"../libraries/LibGettersHelpers.sol\\\";\\r\\n\\r\\ninterface IGetters {\\r\\n    /// @notice This function is used as a helper for front-end implementation\\r\\n    /// @param termId The term id for which the summary is being requested\\r\\n    /// @return term The term object\\r\\n    /// @return collateralState The current state of the collateral\\r\\n    /// @return fundState The current state of the fund\\r\\n    /// @return nonUserRelated A helper struct with the following values:\\r\\n    ///                        available positions, security deposits corresponding to each position,\\r\\n    ///                        remaining registration time, remaining contribution time,\\r\\n    ///                        remaining cycle time, remaining cycles, remaining cycles\\r\\n    ///                        contribution in wei, latest price from Chainlink, collateral\\r\\n    ///                        first deposit time in seconds, collateral counter members,\\r\\n    ///                        fund start time in seconds, fund end time in seconds, current\\r\\n    ///                        cycle, expelled participants, total amount of cycles, yield\\r\\n    ///                        start time in seconds, total deposit in wei, current total\\r\\n    ///                        deposit in wei, total shares\\r\\n    function getTermRelatedSummary(\\r\\n        uint termId\\r\\n    )\\r\\n        external\\r\\n        view\\r\\n        returns (\\r\\n            LibTermStorage.Term memory term,\\r\\n            LibCollateralStorage.CollateralStates collateralState,\\r\\n            LibFundStorage.FundStates fundState,\\r\\n            LibGettersHelpers.NonUserRelated memory nonUserRelated\\r\\n        );\\r\\n\\r\\n    /// @notice This function is used as a helper for front-end implementation\\r\\n    /// @param user the depositor address\\r\\n    /// @param termId the collateral id\\r\\n    /// @return userRelated an object that contains the following values:\\r\\n    ///                     user is collateral member, user is undercollaterized,\\r\\n    ///                     current collateral balance, received collateral from defaults,\\r\\n    ///                     initial deposited collateral, collateral expulsion limit,\\r\\n    ///                     currently withdrawable balance, is fund member, is or was beneficiary,\\r\\n    ///                     user paid current cycle, user paid next cycle in advance,\\r\\n    ///                     user enabled autopay, user's money pot is frozen, user is exempted this\\r\\n    ///                     cycle, the money pot pool the user can withdraw, the cycle the user got\\r\\n    ///                     expelled (if applicable), is yield member, amount of collateral deposited\\r\\n    ///                     in yield pool, amount of collateral withdrawn from yield pool, available\\r\\n    ///                     yield to withdraw, amount of yield withdrawn, yield to be distributed\\r\\n    function getUserRelatedSummary(\\r\\n        address user,\\r\\n        uint termId\\r\\n    ) external view returns (LibGettersHelpers.UserRelated memory userRelated);\\r\\n\\r\\n    /// @notice This function return the current constant values for oracles and yield providers\\r\\n    /// @param firstAggregator The name of the first aggregator. Example: \\\"ETH/USD\\\"\\r\\n    /// @param secondAggregator The name of the second aggregator. Example: \\\"USDC/USD\\\"\\r\\n    /// @param zapAddress The name of the zap address. Example: \\\"ZaynZap\\\"\\r\\n    /// @param vaultAddress The name of the vault address. Example: \\\"ZaynVault\\\"\\r\\n    /// @return The addresses of the oracles and yield providers\\r\\n    function getConstants(\\r\\n        string memory firstAggregator,\\r\\n        string memory secondAggregator,\\r\\n        string memory zapAddress,\\r\\n        string memory vaultAddress\\r\\n    ) external view returns (address, address, address, address);\\r\\n\\r\\n    /// @notice This function is used to get the current state of the yield lock\\r\\n    /// @return The current state of the yield lock\\r\\n    function getYieldLockState() external view returns (bool);\\r\\n\\r\\n    /// @return the current term id\\r\\n    /// @return the next term id\\r\\n    function getTermsId() external view returns (uint, uint);\\r\\n\\r\\n    /// @notice Gets the term object\\r\\n    /// @param termId the term id\\r\\n    /// @return the term object\\r\\n    function getTermSummary(uint termId) external view returns (LibTermStorage.Term memory);\\r\\n\\r\\n    /// @notice Gets the collateral summary of a term\\r\\n    /// @param termId the id of the term\\r\\n    /// @return if collateral is initialized\\r\\n    /// @return current state of the collateral, see States struct in LibCollateralStorage.sol\\r\\n    /// @return time of first deposit in seconds, 0 if no deposit occured yet\\r\\n    /// @return current member count\\r\\n    /// @return list of depositors\\r\\n    function getCollateralSummary(\\r\\n        uint termId\\r\\n    )\\r\\n        external\\r\\n        view\\r\\n        returns (bool, LibCollateralStorage.CollateralStates, uint, uint, address[] memory);\\r\\n\\r\\n    /// @notice Gets the fund summary of a term\\r\\n    /// @param termId the id of the term\\r\\n    /// @return if fund is initialized\\r\\n    /// @return current state of the fund, see States struct in LibFund.sol\\r\\n    /// @return stablecoin address used\\r\\n    /// @return list for order of beneficiaries\\r\\n    /// @return when the fund started in seconds\\r\\n    /// @return when the fund ended in seconds, 0 otherwise\\r\\n    /// @return current cycle of fund\\r\\n    /// @return total amount of cycles in this fund/term\\r\\n    function getFundSummary(\\r\\n        uint termId\\r\\n    )\\r\\n        external\\r\\n        view\\r\\n        returns (bool, LibFundStorage.FundStates, IERC20, address[] memory, uint, uint, uint, uint);\\r\\n\\r\\n    /// @notice Gets the yield object\\r\\n    /// @param termId the collateral id\\r\\n    /// @return if the yield is initialized\\r\\n    /// @return start time stamp for yield deposit\\r\\n    /// @return total deposit\\r\\n    /// @return current amount in yield\\r\\n    /// @return amount of total shares\\r\\n    /// @return list of yield users\\r\\n    /// @return address of vault\\r\\n    /// @return address of zap\\r\\n    function getYieldSummary(\\r\\n        uint termId\\r\\n    ) external view returns (bool, uint, uint, uint, uint, address[] memory, address, address);\\r\\n\\r\\n    /// @notice This function is used to get a term APY\\r\\n    /// @param termId The term id for which the APY is being calculated\\r\\n    /// @return The APY for the term\\r\\n    function termAPY(uint termId) external view returns (uint256);\\r\\n\\r\\n    /// @notice a function to get the needed allowance\\r\\n    /// @param user the user address\\r\\n    /// @return the needed allowance\\r\\n    function getNeededAllowance(address user) external view returns (uint);\\r\\n\\r\\n    /// @notice function to get the beneficiary from the current cycle\\r\\n    /// @param termId the fund id\\r\\n    /// @return the current beneficiary\\r\\n    function getCurrentBeneficiary(uint termId) external view returns (address);\\r\\n\\r\\n    /// @notice Gets the next beneficiary of a term\\r\\n    /// @param termId the id of the term\\r\\n    /// @return user address\\r\\n    function getNextBeneficiary(uint termId) external view returns (address);\\r\\n\\r\\n    /// @notice Gets a users collateral summary\\r\\n    /// @param depositor address\\r\\n    /// @param termId the id of the term\\r\\n    /// @return if the user is a true member of the term\\r\\n    /// @return current users locked collateral balance in wei\\r\\n    /// @return current users unlocked collateral balance in wei\\r\\n    /// @return initial users deposit in wei\\r\\n    /// @return expulsion limit\\r\\n    function getDepositorCollateralSummary(\\r\\n        address depositor,\\r\\n        uint termId\\r\\n    ) external view returns (bool, uint, uint, uint, uint);\\r\\n\\r\\n    /// @notice function to get fund information of a specific participant\\r\\n    /// @param participant the user to get the info from\\r\\n    /// @param termId the fund id\\r\\n    /// @return isParticipant, true if is participant\\r\\n    /// @return isBeneficiary, true if has been beneficiary\\r\\n    /// @return paidThisCycle, true if has paid the current cycle\\r\\n    /// @return autoPayEnabled, true if auto pay is enabled\\r\\n    /// @return beneficiariesPool, the beneficiary pool, 6 decimals\\r\\n    /// @return beneficiariesFrozenPool, true if the beneficiary pool is frozen\\r\\n    function getParticipantFundSummary(\\r\\n        address participant,\\r\\n        uint termId\\r\\n    ) external view returns (bool, bool, bool, bool, uint, bool);\\r\\n\\r\\n    /// @notice Gets the user yield summary\\r\\n    /// @param user the depositor address\\r\\n    /// @param termId the collateral id\\r\\n    /// @return if the user opted in for yield\\r\\n    /// @return amount withdrawn from yield\\r\\n    /// @return amount withdrawn from collateral\\r\\n    /// @return amount available in yield\\r\\n    /// @return amount deposited by user in yield\\r\\n    /// @return amount of yield distributed\\r\\n    function getUserYieldSummary(\\r\\n        address user,\\r\\n        uint termId\\r\\n    ) external view returns (bool, uint, uint, uint, uint, uint);\\r\\n\\r\\n    /// @notice function to get cycle information of a specific participant\\r\\n    /// @param participant the user to get the info from\\r\\n    /// @param termId the fund id\\r\\n    /// @return on participant set\\r\\n    /// @return on beneficiary set\\r\\n    /// @return on defaulter set\\r\\n    function getUserSet(address participant, uint termId) external view returns (bool, bool, bool);\\r\\n\\r\\n    /// @notice Called to check how much collateral a user can withdraw\\r\\n    /// @param termId term id\\r\\n    /// @param user depositor address\\r\\n    /// @return allowedWithdrawal amount the amount of collateral the depositor can withdraw\\r\\n    function getWithdrawableUserBalance(\\r\\n        uint termId,\\r\\n        address user\\r\\n    ) external view returns (uint allowedWithdrawal);\\r\\n\\r\\n    /// @notice Get all the terms a participant was expelled from\\r\\n    /// @param participant the participant address\\r\\n    /// @return an array the term ids on which the participant was expelled\\r\\n    function getExpelledTerms(address participant) external view returns (uint[] memory);\\r\\n\\r\\n    /// @notice Checks if a user has a collateral below 1.0x of total contribution amount\\r\\n    /// @dev This will revert if called during ReleasingCollateral or after\\r\\n    /// @param termId The term id\\r\\n    /// @param member The user to check for\\r\\n    /// @return Bool check if member is below 1.0x of collateralDeposit\\r\\n    function isUnderCollaterized(uint termId, address member) external view returns (bool);\\r\\n\\r\\n    /// @notice Gets if a user is exempted from paying for a specefic cycle\\r\\n    /// @param termId the id of the term\\r\\n    /// @param cycle number\\r\\n    /// @param user address\\r\\n    /// @return true or false\\r\\n    function isExempted(uint termId, uint cycle, address user) external view returns (bool);\\r\\n\\r\\n    /// @notice This function is used to check if a user has opted in for yield generation\\r\\n    /// @param termId The term id for which the check is being made\\r\\n    /// @param user The user for which the check is being made\\r\\n    /// @return True if the user has opted in\\r\\n    function userHasoptedInYG(uint termId, address user) external view returns (bool);\\r\\n\\r\\n    /// @notice This function is used to get a user APY\\r\\n    /// @param termId The term id for which the APY is being calculated\\r\\n    /// @param user The user for which the APY is being calculated\\r\\n    /// @return The APY for the user\\r\\n    function userAPY(uint termId, address user) external view returns (uint256);\\r\\n\\r\\n    /// @notice function to get fund information of a specific participant\\r\\n    /// @param participant the user to get the info from\\r\\n    /// @param termId the fund id\\r\\n    /// @return paidThisCycle, true if has paid the current cycle\\r\\n    /// @return paidNextCycle, true if has paid the next cycle\\r\\n    function currentOrNextCyclePaid(\\r\\n        address participant,\\r\\n        uint termId\\r\\n    ) external view returns (bool, bool);\\r\\n\\r\\n    /// @param termId the id of the term\\r\\n    /// @param beneficiary the address of the participant to check\\r\\n    /// @return true if the participant is a beneficiary\\r\\n    function isBeneficiary(uint termId, address beneficiary) external view returns (bool);\\r\\n\\r\\n    /// @notice Gets if a user is expelled from a specefic term\\r\\n    /// @param termId the id of the term\\r\\n    /// @param user address\\r\\n    /// @return true or false\\r\\n    function wasExpelled(uint termId, address user) external view returns (bool);\\r\\n\\r\\n    /// @notice checks if a participant have been expelled before being a beneficiary\\r\\n    /// @param termId the id of the term\\r\\n    /// @param user the address of the participant to check\\r\\n    /// @return true if the participant is expelled before being a beneficiary\\r\\n    function expelledBeforeBeneficiary(uint termId, address user) external view returns (bool);\\r\\n\\r\\n    /// @notice Gets the conversion rate of an amount in ETH to USD\\r\\n    /// @param ethAmount The amount in ETH\\r\\n    /// @return uint converted amount in USD correct to 18 decimals\\r\\n    function getToStableConversionRate(uint ethAmount) external view returns (uint);\\r\\n\\r\\n    /// @notice Gets all remaining cycles of a term\\r\\n    /// @param termId the id of the term\\r\\n    /// @return remaining cycles\\r\\n    function getRemainingCycles(uint termId) external view returns (uint);\\r\\n\\r\\n    /// @notice Gets the expected remaining contribution amount for users in a term\\r\\n    /// @param termId the id of the term\\r\\n    /// @return total remaining contribution in wei\\r\\n    function getRemainingCyclesContributionWei(uint termId) external view returns (uint);\\r\\n\\r\\n    /// @notice Called to check the minimum collateral amount to deposit in wei\\r\\n    /// @param termId term id\\r\\n    /// @param depositorIndex the index the depositor wants to join\\r\\n    /// @return amount the minimum collateral amount to deposit in wei\\r\\n    /// @dev The minimum collateral amount is calculated based on the index on the depositors array\\r\\n    /// @dev The return value should be the minimum msg.value when calling joinTerm\\r\\n    /// @dev C = 1.5 Cp (Tp - I) where C = minimum collateral amount, Cp = contribution amount,\\r\\n    ///      Tp = total participants, I = depositor index (starts at 0). 1.5\\r\\n    function minCollateralToDeposit(uint termId, uint depositorIndex) external view returns (uint);\\r\\n\\r\\n    /// @notice Gets latest ETH / USD price\\r\\n    /// @dev Revert if there is problem with chainlink data\\r\\n    /// @return uint latest price in Wei Note: 18 decimals\\r\\n    function getLatestPrice() external view returns (uint);\\r\\n\\r\\n    /// @notice Gets the conversion rate of an amount in USD to ETH\\r\\n    /// @param USDAmount The amount in USD with 18 decimals\\r\\n    /// @return uint converted amount in wei\\r\\n    function getToCollateralConversionRate(uint USDAmount) external view returns (uint);\\r\\n\\r\\n    /// @notice This function is used to get the total yield generated for a term\\r\\n    /// @param termId The term id for which the yield is being calculated\\r\\n    /// @return The total yield generated for the term\\r\\n    function totalYieldGenerated(uint termId) external view returns (uint);\\r\\n\\r\\n    /// @notice Get all the terms a participant is part of\\r\\n    /// @param participant the participant address\\r\\n    /// @return an array with the term ids the participant is part of\\r\\n    function getAllJoinedTerms(address participant) external view returns (uint[] memory);\\r\\n\\r\\n    /// @notice Get all the terms a participant is part of by a given state\\r\\n    /// @param participant the participant address\\r\\n    /// @param state the term state\\r\\n    /// @return an array with the term ids the participant is part of, giving the state of the term\\r\\n    function getJoinedTermsByState(\\r\\n        address participant,\\r\\n        LibTermStorage.TermStates state\\r\\n    ) external view returns (uint[] memory);\\r\\n\\r\\n    /// @notice Gets the remaining positions in a term and the corresponding security amount\\r\\n    /// @param termId the term id\\r\\n    /// @dev Available positions starts at 0\\r\\n    /// @return availablePositions an array with the available positions\\r\\n    /// @return securityAmount an array with the security amount for each available position\\r\\n    function getAvailablePositionsAndSecurityAmount(\\r\\n        uint termId\\r\\n    ) external view returns (uint[] memory, uint[] memory);\\r\\n\\r\\n    /// @notice Gets the remaining registration period for a term\\r\\n    /// @dev Revert if nobody have deposited\\r\\n    /// @param termId the term id\\r\\n    /// @return remaining contribution period\\r\\n    function getRemainingRegistrationTime(uint termId) external view returns (uint);\\r\\n\\r\\n    /// @notice Must return 0 before closing a contribution period\\r\\n    /// @param termId the id of the term\\r\\n    /// @return remaining contribution time in seconds\\r\\n    function getRemainingContributionTime(uint termId) external view returns (uint);\\r\\n\\r\\n    /// @notice Must be 0 before starting a new cycle\\r\\n    /// @param termId the id of the term\\r\\n    /// @return remaining cycle time in seconds\\r\\n    function getRemainingCycleTime(uint termId) external view returns (uint);\\r\\n}\\r\\n\",\"keccak256\":\"0xcc358838108ee7ec55a708f40d0d55528c7761c9f348099754fbee8e64864fe4\",\"license\":\"GPL-3.0\"},\"contracts/interfaces/IZaynVaultV2TakaDao.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\r\\npragma solidity ^0.8.5;\\r\\n\\r\\ninterface IZaynVaultV2TakaDao {\\r\\n    function totalSupply() external view returns (uint256);\\r\\n\\r\\n    function depositZap(uint256 _amount, uint256 _term) external;\\r\\n\\r\\n    function withdrawZap(uint256 _shares, uint256 _term) external;\\r\\n\\r\\n    function want() external view returns (address);\\r\\n\\r\\n    function balance() external view returns (uint256);\\r\\n\\r\\n    function strategy() external view returns (address);\\r\\n\\r\\n    function balanceOf(uint256 term) external view returns (uint256);\\r\\n\\r\\n    function getPricePerFullShare() external view returns (uint256);\\r\\n}\\r\\n\",\"keccak256\":\"0x78699e5f3347a796b59482d2d5ad459c68125c87223e0d4634188f3e1339cf7f\",\"license\":\"GPL-3.0\"},\"contracts/interfaces/IZaynZapV2TakaDAO.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\r\\npragma solidity ^0.8.5;\\r\\n\\r\\ninterface IZaynZapV2TakaDAO {\\r\\n    function zapInEth(address vault, uint256 termID) external payable;\\r\\n\\r\\n    function zapOutETH(address vault, uint256 _shares, uint256 termID) external returns (uint);\\r\\n\\r\\n    function toggleTrustedSender(address _trustedSender, bool _allow) external;\\r\\n}\\r\\n\",\"keccak256\":\"0x0d0cdf796501fc604bc1c83c28ff89fefe49ea1b994677c60dc62312af143c94\",\"license\":\"GPL-3.0\"},\"contracts/libraries/LibCollateral.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nimport {IGetters} from \\\"../interfaces/IGetters.sol\\\";\\r\\n\\r\\nimport {LibCollateralStorage} from \\\"./LibCollateralStorage.sol\\\";\\r\\nimport {LibFundStorage} from \\\"./LibFundStorage.sol\\\";\\r\\n\\r\\nlibrary LibCollateral {\\r\\n    event OnCollateralStateChanged(\\r\\n        uint indexed termId,\\r\\n        LibCollateralStorage.CollateralStates indexed oldState,\\r\\n        LibCollateralStorage.CollateralStates indexed newState\\r\\n    ); // Emits when the state of the collateral changes\\r\\n    event OnReimbursementWithdrawn(\\r\\n        uint indexed termId,\\r\\n        address indexed participant,\\r\\n        address receiver,\\r\\n        uint indexed amount\\r\\n    ); // Emits when a participant withdraws their reimbursement\\r\\n\\r\\n    /// @notice Sets the state of the collateral\\r\\n    /// @param _termId term id\\r\\n    /// @param _newState collateral state\\r\\n    function _setState(uint _termId, LibCollateralStorage.CollateralStates _newState) internal {\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[_termId];\\r\\n        LibCollateralStorage.CollateralStates oldState = collateral.state;\\r\\n        collateral.state = _newState;\\r\\n        emit OnCollateralStateChanged(_termId, oldState, _newState);\\r\\n    }\\r\\n\\r\\n    /// @notice Allow a user to withdraw their reimbursement\\r\\n    /// @dev Reverts if the fund does not exists or if the user has nothing to claim\\r\\n    /// @param _termId term id\\r\\n    /// @param _participant Address of the depositor\\r\\n    /// @param _receiver Address of the receiver\\r\\n    function _withdrawReimbursement(\\r\\n        uint _termId,\\r\\n        address _participant,\\r\\n        address _receiver\\r\\n    ) internal {\\r\\n        require(LibFundStorage._fundExists(_termId), \\\"TT-LC-01\\\");\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[_termId];\\r\\n\\r\\n        uint amount = collateral.collateralPaymentBank[_participant];\\r\\n        require(amount > 0, \\\"TT-LC-02\\\");\\r\\n        collateral.collateralPaymentBank[_participant] = 0;\\r\\n\\r\\n        (bool success, ) = payable(_receiver).call{value: amount}(\\\"\\\");\\r\\n        require(success);\\r\\n\\r\\n        emit OnReimbursementWithdrawn(_termId, _participant, _receiver, amount);\\r\\n    }\\r\\n\\r\\n    /// @notice Checks if a user has a collateral below 1.0x of total contribution amount\\r\\n    /// @dev This will revert if called during ReleasingCollateral or after\\r\\n    /// @param _termId The fund id\\r\\n    /// @param _member The user to check for\\r\\n    /// @return Bool check if member is below 1.0x of collateralDeposit\\r\\n    function _isUnderCollaterized(uint _termId, address _member) internal view returns (bool) {\\r\\n        LibCollateralStorage.Collateral storage collateral = LibCollateralStorage\\r\\n            ._collateralStorage()\\r\\n            .collaterals[_termId];\\r\\n\\r\\n        uint collateralLimit;\\r\\n        uint memberCollateral = collateral.collateralMembersBank[_member];\\r\\n\\r\\n        if (!LibFundStorage._fundExists(_termId)) {\\r\\n            // Only check here when starting the term\\r\\n            (, , , , collateralLimit) = IGetters(address(this)).getDepositorCollateralSummary(\\r\\n                _member,\\r\\n                _termId\\r\\n            );\\r\\n        } else {\\r\\n            collateralLimit = IGetters(address(this)).getRemainingCyclesContributionWei(_termId);\\r\\n        }\\r\\n\\r\\n        return (memberCollateral < collateralLimit);\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x54a2946e46bed73e1c9d5fb61c91d22b98da40f318a43fe13eda51f377534dc2\",\"license\":\"MIT\"},\"contracts/libraries/LibCollateralStorage.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nlibrary LibCollateralStorage {\\r\\n    bytes32 constant COLLATERAL_STORAGE_POSITION = keccak256(\\\"diamond.standard.collateral.storage\\\");\\r\\n\\r\\n    enum CollateralStates {\\r\\n        AcceptingCollateral, // Initial state where collateral are deposited\\r\\n        CycleOngoing, // Triggered when a fund instance is created, no collateral can be accepted\\r\\n        ReleasingCollateral, // Triggered when the fund closes\\r\\n        Closed // Triggered when all depositors withdraw their collaterals\\r\\n    }\\r\\n\\r\\n    struct DefaulterState {\\r\\n        bool payWithCollateral;\\r\\n        bool payWithFrozenPool;\\r\\n        bool gettingExpelled;\\r\\n        bool isBeneficiary;\\r\\n    }\\r\\n\\r\\n    struct Collateral {\\r\\n        bool initialized;\\r\\n        CollateralStates state;\\r\\n        uint firstDepositTime; // Time when the first deposit was made in seconds\\r\\n        uint counterMembers;\\r\\n        address[] depositors;\\r\\n        mapping(address => bool) isCollateralMember; // Determines if a depositor is a valid user\\r\\n        mapping(address => uint) collateralMembersBank; // Users main balance\\r\\n        mapping(address => uint) collateralPaymentBank; // Users reimbursement balance after someone defaults\\r\\n        mapping(address => uint) collateralDepositByUser; // Depends on the depositors index\\r\\n    }\\r\\n\\r\\n    struct CollateralStorage {\\r\\n        mapping(uint => Collateral) collaterals; // termId => Collateral struct\\r\\n    }\\r\\n\\r\\n    function _collateralExists(uint termId) internal view returns (bool) {\\r\\n        return _collateralStorage().collaterals[termId].initialized;\\r\\n    }\\r\\n\\r\\n    function _collateralStorage()\\r\\n        internal\\r\\n        pure\\r\\n        returns (CollateralStorage storage collateralStorage)\\r\\n    {\\r\\n        bytes32 position = COLLATERAL_STORAGE_POSITION;\\r\\n        assembly {\\r\\n            collateralStorage.slot := position\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x983bffd1c10250f021a365d5eab5e0268638a5e57bf3def27a4816dbb0765845\",\"license\":\"MIT\"},\"contracts/libraries/LibFundStorage.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nimport {IERC20} from \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\r\\n\\r\\nimport {EnumerableSet} from \\\"@openzeppelin/contracts/utils/structs/EnumerableSet.sol\\\";\\r\\n\\r\\nlibrary LibFundStorage {\\r\\n    using EnumerableSet for EnumerableSet.AddressSet;\\r\\n\\r\\n    bytes32 constant FUND_POSITION = keccak256(\\\"diamond.standard.fund\\\");\\r\\n    bytes32 constant FUND_STORAGE_POSITION = keccak256(\\\"diamond.standard.fund.storage\\\");\\r\\n\\r\\n    enum FundStates {\\r\\n        InitializingFund, // Time before the first cycle has started\\r\\n        AcceptingContributions, // Triggers at the start of a cycle\\r\\n        AwardingBeneficiary, // Contributions are closed, beneficiary is chosen, people default etc.\\r\\n        CycleOngoing, // Time after beneficiary is chosen, up till the start of the next cycle\\r\\n        FundClosed // Triggers at the end of the last contribution period, no state changes after this\\r\\n    }\\r\\n\\r\\n    struct PayExemption {\\r\\n        mapping(address => bool) exempted; // Mapping to keep track of if someone is exempted from paying\\r\\n    }\\r\\n\\r\\n    struct Fund {\\r\\n        bool initialized;\\r\\n        FundStates currentState; // Variable to keep track of the different FundStates\\r\\n        IERC20 stableToken; // Instance of the stable token\\r\\n        address[] beneficiariesOrder; // The correct order of who gets to be next beneficiary, determined by collateral contract\\r\\n        uint fundStart; // Timestamp of the start of the fund\\r\\n        uint fundEnd; // Timestamp of the end of the fund\\r\\n        uint currentCycle; // Index of current cycle\\r\\n        mapping(address => bool) isParticipant; // Mapping to keep track of who's a participant or not\\r\\n        mapping(address => bool) isBeneficiary; // Mapping to keep track of who's a beneficiary or not\\r\\n        mapping(address => bool) paidThisCycle; // Mapping to keep track of who paid for this cycle\\r\\n        mapping(address => bool) autoPayEnabled; // Wheter to attempt to automate payments at the end of the contribution period\\r\\n        mapping(address => uint) beneficiariesPool; // Mapping to keep track on how much each beneficiary can claim. Six decimals\\r\\n        mapping(address => bool) beneficiariesFrozenPool; // Frozen pool by beneficiaries, it can claim when his collateral is at least 1.1 X RCC\\r\\n        mapping(address => uint) cycleOfExpulsion; // Mapping to keep track on which cycle a user was expelled\\r\\n        mapping(uint => PayExemption) isExemptedOnCycle; // Mapping to keep track of if someone is exempted from paying this cycle\\r\\n        EnumerableSet.AddressSet _participants; // Those who have not been beneficiaries yet and have not defaulted this cycle\\r\\n        EnumerableSet.AddressSet _beneficiaries; // Those who have been beneficiaries and have not defaulted this cycle\\r\\n        EnumerableSet.AddressSet _defaulters; // Both participants and beneficiaries who have defaulted this cycle\\r\\n        uint expelledParticipants; // Total amount of participants that have been expelled so far\\r\\n        uint totalAmountOfCycles;\\r\\n        mapping(address => bool) expelledBeforeBeneficiary; // Mapping to keep track of who has been expelled before being a beneficiary\\r\\n        mapping(address => bool) paidNextCycle; // Mapping to keep track of who has paid for the next cycle\\r\\n    }\\r\\n\\r\\n    struct FundStorage {\\r\\n        mapping(uint => Fund) funds; // termId => Fund struct\\r\\n    }\\r\\n\\r\\n    function _fundExists(uint termId) internal view returns (bool) {\\r\\n        return _fundStorage().funds[termId].initialized;\\r\\n    }\\r\\n\\r\\n    function _fundStorage() internal pure returns (FundStorage storage fundStorage) {\\r\\n        bytes32 position = FUND_STORAGE_POSITION;\\r\\n        assembly {\\r\\n            fundStorage.slot := position\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0xdc5fee2561d7cce812c38156de9b39f94f6805d5c9c5f2a6faf26d3ff5b3a6b5\",\"license\":\"MIT\"},\"contracts/libraries/LibGettersHelpers.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nlibrary LibGettersHelpers {\\r\\n    struct NonUserRelated {\\r\\n        // Positions and security deposits related\\r\\n        uint[] availablePositions;\\r\\n        uint[] securityDeposits;\\r\\n        // Times and contributions related\\r\\n        uint remainingRegistrationTime; // In seconds\\r\\n        uint remainingContributionTime; // In seconds\\r\\n        uint remainingCycleTime; // In seconds\\r\\n        uint remainingCycles;\\r\\n        uint rcc; // Remaining Contribution Cycles in wei\\r\\n        uint latestPrice; // From Chainlink\\r\\n        // Collateral related\\r\\n        bool collateralInitialized;\\r\\n        uint collateralFirstDepositTime; // In seconds\\r\\n        uint collateralCounterMembers; // Member count\\r\\n        // Fund related\\r\\n        bool fundInitialized;\\r\\n        uint fundStartTime; // In seconds\\r\\n        uint fundEndTime; // In seconds\\r\\n        uint fundCurrentCycle;\\r\\n        uint fundExpellantsCount;\\r\\n        uint fundTotalCycles;\\r\\n        address[] fundBeneficiariesOrder;\\r\\n        // Yield related\\r\\n        bool yieldInitialized;\\r\\n        uint yieldStartTime; // In seconds\\r\\n        uint yieldTotalDeposit; // In wei\\r\\n        uint yieldCurrentTotalDeposit; // In wei\\r\\n        uint yieldTotalShares;\\r\\n        address[] yieldUsers;\\r\\n    }\\r\\n\\r\\n    struct UserRelated {\\r\\n        // Collateral related\\r\\n        bool collateralMember;\\r\\n        bool isUnderCollaterized;\\r\\n        uint membersBank;\\r\\n        uint paymentBank;\\r\\n        uint deposited;\\r\\n        uint expulsonLimit;\\r\\n        uint withdrawableBalance;\\r\\n        // Fund related\\r\\n        bool fundMember;\\r\\n        bool beneficiary;\\r\\n        bool currentCyclePaid;\\r\\n        bool nextCyclePaid;\\r\\n        bool autoPayer;\\r\\n        bool moneyPotFrozen;\\r\\n        bool exemptedThisCycle;\\r\\n        uint pool;\\r\\n        uint cycleExpelled;\\r\\n        // Yield related\\r\\n        bool yieldMember;\\r\\n        uint collateralDepositedInYield;\\r\\n        uint collateralWithdrawnFromYield;\\r\\n        uint yieldAvailable;\\r\\n        uint yieldWithdrawn;\\r\\n        uint distributedYield;\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x6a871e3679a4b960dc0294080f91bfd22c09fcbb0d7331c8bb6ce7e04868a30d\",\"license\":\"MIT\"},\"contracts/libraries/LibTermStorage.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nlibrary LibTermStorage {\\r\\n    bytes32 constant TERM_CONSTS_POSITION = keccak256(\\\"diamond.standard.term.consts\\\");\\r\\n    bytes32 constant TERM_STORAGE_POSITION = keccak256(\\\"diamond.standard.term.storage\\\");\\r\\n\\r\\n    enum TermStates {\\r\\n        InitializingTerm,\\r\\n        ActiveTerm,\\r\\n        ExpiredTerm,\\r\\n        ClosedTerm\\r\\n    }\\r\\n\\r\\n    struct TermConsts {\\r\\n        mapping(string => address) aggregatorsAddresses; // \\\"ETH/USD\\\" => address , \\\"USDC/USD\\\" => address\\r\\n    }\\r\\n\\r\\n    struct Term {\\r\\n        bool initialized;\\r\\n        TermStates state;\\r\\n        address termOwner;\\r\\n        uint creationTime; // In seconds\\r\\n        uint termId;\\r\\n        uint registrationPeriod; // Time for registration (seconds)\\r\\n        uint totalParticipants; // Max number of participants\\r\\n        uint cycleTime; // Time for single cycle (seconds)\\r\\n        uint contributionAmount; // Amount user must pay per cycle (USD)\\r\\n        uint contributionPeriod; // The portion of cycle user must make payment\\r\\n        address stableTokenAddress;\\r\\n    }\\r\\n\\r\\n    struct TermStorage {\\r\\n        uint nextTermId;\\r\\n        mapping(uint => Term) terms; // termId => Term struct\\r\\n        mapping(address => uint[]) participantToTermId; // userAddress => [termId1, termId2, ...]\\r\\n    }\\r\\n\\r\\n    function _termExists(uint termId) internal view returns (bool) {\\r\\n        return _termStorage().terms[termId].initialized;\\r\\n    }\\r\\n\\r\\n    function _termConsts() internal pure returns (TermConsts storage termConsts) {\\r\\n        bytes32 position = TERM_CONSTS_POSITION;\\r\\n        assembly {\\r\\n            termConsts.slot := position\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function _termStorage() internal pure returns (TermStorage storage termStorage) {\\r\\n        bytes32 position = TERM_STORAGE_POSITION;\\r\\n        assembly {\\r\\n            termStorage.slot := position\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0xe7f461ea1a6e8785a584a08595542d15b02bb22c0b9b4a376e00df734ce599de\",\"license\":\"MIT\"},\"contracts/libraries/LibYieldGeneration.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nimport {IZaynZapV2TakaDAO} from \\\"../interfaces/IZaynZapV2TakaDAO.sol\\\";\\r\\nimport {IZaynVaultV2TakaDao} from \\\"../interfaces/IZaynVaultV2TakaDao.sol\\\";\\r\\n\\r\\nimport {LibYieldGenerationStorage} from \\\"../libraries/LibYieldGenerationStorage.sol\\\";\\r\\n\\r\\nlibrary LibYieldGeneration {\\r\\n    event OnYieldClaimed(\\r\\n        uint indexed termId,\\r\\n        address indexed user,\\r\\n        address receiver,\\r\\n        uint indexed amount\\r\\n    ); // Emits when a user claims their yield\\r\\n\\r\\n    /// @notice This function is used to deposit collateral for yield generation\\r\\n    /// @param _termId The term id for which the collateral is being deposited\\r\\n    /// @param _ethAmount The amount of collateral being deposited\\r\\n    function _depositYG(uint _termId, uint _ethAmount) internal {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[_termId];\\r\\n\\r\\n        yield.totalDeposit = _ethAmount;\\r\\n        yield.currentTotalDeposit = _ethAmount;\\r\\n\\r\\n        address vaultAddress = yield.providerAddresses[\\\"ZaynVault\\\"];\\r\\n\\r\\n        IZaynZapV2TakaDAO(yield.providerAddresses[\\\"ZaynZap\\\"]).zapInEth{value: _ethAmount}(\\r\\n            vaultAddress,\\r\\n            _termId\\r\\n        );\\r\\n\\r\\n        yield.totalShares = IZaynVaultV2TakaDao(vaultAddress).balanceOf(_termId);\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to withdraw collateral from the yield generation protocol\\r\\n    /// @param _termId The term id for which the collateral is being withdrawn\\r\\n    /// @param _collateralAmount The amount of collateral being withdrawn\\r\\n    /// @param _user The user address that is withdrawing the collateral\\r\\n    /// @return The amount of yield withdrawn\\r\\n    function _withdrawYG(\\r\\n        uint _termId,\\r\\n        uint256 _collateralAmount,\\r\\n        address _user\\r\\n    ) internal returns (uint) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[_termId];\\r\\n\\r\\n        uint neededShares = _neededShares(_collateralAmount, yield.totalShares, yield.totalDeposit);\\r\\n\\r\\n        yield.withdrawnCollateral[_user] += _collateralAmount;\\r\\n        yield.currentTotalDeposit -= _collateralAmount;\\r\\n\\r\\n        address zapAddress = yield.providerAddresses[\\\"ZaynZap\\\"];\\r\\n        address vaultAddress = yield.providerAddresses[\\\"ZaynVault\\\"];\\r\\n\\r\\n        uint sharesBalance = IZaynVaultV2TakaDao(vaultAddress).balanceOf(_termId);\\r\\n\\r\\n        // Prevent rounding errors\\r\\n        if (neededShares > sharesBalance) {\\r\\n            if (neededShares - sharesBalance < 10000) {\\r\\n                neededShares = sharesBalance;\\r\\n            }\\r\\n        } else {\\r\\n            if (sharesBalance - neededShares < 10000) {\\r\\n                neededShares = sharesBalance;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        uint withdrawnAmount = IZaynZapV2TakaDAO(zapAddress).zapOutETH(\\r\\n            vaultAddress,\\r\\n            neededShares,\\r\\n            _termId\\r\\n        );\\r\\n\\r\\n        if (withdrawnAmount < _collateralAmount) {\\r\\n            return 0;\\r\\n        } else {\\r\\n            uint withdrawnYield = withdrawnAmount - _collateralAmount;\\r\\n            yield.withdrawnYield[_user] += withdrawnYield;\\r\\n            yield.availableYield[_user] += withdrawnYield;\\r\\n\\r\\n            return withdrawnYield;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice Conversion from shares to eth\\r\\n    /// @param _termId The term id\\r\\n    /// @param _yield The yield generation struct\\r\\n    /// @return Wei equivalent of the shares\\r\\n    function _sharesToEth(\\r\\n        uint _termId,\\r\\n        LibYieldGenerationStorage.YieldGeneration storage _yield\\r\\n    ) internal view returns (uint) {\\r\\n        uint termBalance = IZaynVaultV2TakaDao(_yield.providerAddresses[\\\"ZaynVault\\\"]).balanceOf(\\r\\n            _termId\\r\\n        );\\r\\n\\r\\n        uint pricePerShare = IZaynVaultV2TakaDao(_yield.providerAddresses[\\\"ZaynVault\\\"])\\r\\n            .getPricePerFullShare();\\r\\n\\r\\n        return (termBalance * pricePerShare) / 10 ** 18;\\r\\n    }\\r\\n\\r\\n    /// @notice Conversion from eth to shares\\r\\n    /// @param _collateralAmount The amount of collateral to withdraw\\r\\n    /// @param _totalShares The total shares in the yield from the term\\r\\n    /// @param _totalDeposit The total deposit in the yield from the term\\r\\n    /// @return The amount of shares equivalent to a collateral amount\\r\\n    function _neededShares(\\r\\n        uint _collateralAmount,\\r\\n        uint _totalShares,\\r\\n        uint _totalDeposit\\r\\n    ) internal pure returns (uint) {\\r\\n        if (_totalDeposit == 0) return 0;\\r\\n        return ((_collateralAmount * _totalShares) / _totalDeposit);\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to get the current total yield generated for a term\\r\\n    /// @param _termId The term id for which the yield is being calculated\\r\\n    /// @return The total yield generated for the term\\r\\n    function _currentYieldGenerated(uint _termId) internal view returns (uint) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[_termId];\\r\\n\\r\\n        uint termBalance = IZaynVaultV2TakaDao(yield.providerAddresses[\\\"ZaynVault\\\"]).balanceOf(\\r\\n            _termId\\r\\n        );\\r\\n        uint pricePerShare = IZaynVaultV2TakaDao(yield.providerAddresses[\\\"ZaynVault\\\"])\\r\\n            .getPricePerFullShare();\\r\\n\\r\\n        uint sharesInEth = (termBalance * pricePerShare) / 10 ** 18;\\r\\n        if (sharesInEth > yield.currentTotalDeposit) {\\r\\n            return sharesInEth - yield.currentTotalDeposit;\\r\\n        } else {\\r\\n            return 0;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to get the yield distribution ratio for a user\\r\\n    /// @param _termId The term id for which the ratio is being calculated\\r\\n    /// @param _user The user for which the ratio is being calculated\\r\\n    /// @return The yield distribution ratio for the user\\r\\n    function _yieldDistributionRatio(uint _termId, address _user) internal view returns (uint256) {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[_termId];\\r\\n\\r\\n        if (yield.currentTotalDeposit == 0) {\\r\\n            return 0;\\r\\n        } else {\\r\\n            return\\r\\n                ((yield.depositedCollateralByUser[_user] - yield.withdrawnCollateral[_user]) *\\r\\n                    10 ** 18) / yield.currentTotalDeposit;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to get the total yield generated for a user\\r\\n    /// @param termId The term id for which the yield is being calculated\\r\\n    /// @param user The user for which the yield is being calculated\\r\\n    /// @return The total yield generated for the user\\r\\n    function _unwithdrawnUserYieldGenerated(\\r\\n        uint termId,\\r\\n        address user\\r\\n    ) internal view returns (uint) {\\r\\n        uint yieldDistributed = (_currentYieldGenerated(termId) *\\r\\n            _yieldDistributionRatio(termId, user)) / 10 ** 18;\\r\\n\\r\\n        return yieldDistributed;\\r\\n    }\\r\\n\\r\\n    /// @notice This function is used to claim the available yield for a user\\r\\n    /// @param _termId The term id for which the yield is being claimed\\r\\n    /// @param _user The user for which the yield is being claimed\\r\\n    /// @param _receiver The receiver of the yield\\r\\n    function _claimAvailableYield(uint _termId, address _user, address _receiver) internal {\\r\\n        LibYieldGenerationStorage.YieldGeneration storage yield = LibYieldGenerationStorage\\r\\n            ._yieldStorage()\\r\\n            .yields[_termId];\\r\\n\\r\\n        uint availableYield = yield.availableYield[_user];\\r\\n\\r\\n        require(availableYield > 0, \\\"TT-LYG-01\\\");\\r\\n\\r\\n        yield.availableYield[_user] = 0;\\r\\n        (bool success, ) = payable(_receiver).call{value: availableYield}(\\\"\\\");\\r\\n        require(success);\\r\\n\\r\\n        emit OnYieldClaimed(_termId, _user, _receiver, availableYield);\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x8efc9c5a2d1e7c6cc19f5981dc3209f00f11af1091b97028cc676bd76136d1a8\",\"license\":\"MIT\"},\"contracts/libraries/LibYieldGenerationStorage.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity 0.8.18;\\r\\n\\r\\nlibrary LibYieldGenerationStorage {\\r\\n    bytes32 constant YIELD_PROVIDERS_POSITION = keccak256(\\\"diamond.standard.yield.providers\\\");\\r\\n    bytes32 constant YIELD_STORAGE_POSITION = keccak256(\\\"diamond.standard.yield.storage\\\");\\r\\n    bytes32 constant YIELD_LOCK_POSITION = keccak256(\\\"diamond.standard.yield.lock\\\");\\r\\n\\r\\n    enum YGProviders {\\r\\n        InHouse,\\r\\n        ZaynFi\\r\\n    }\\r\\n\\r\\n    struct YieldLock {\\r\\n        bool yieldLock;\\r\\n    }\\r\\n\\r\\n    // Both index 0 are reserved for ZaynFi\\r\\n    struct YieldProviders {\\r\\n        mapping(string => address) providerAddresses;\\r\\n    }\\r\\n\\r\\n    struct YieldGeneration {\\r\\n        bool initialized;\\r\\n        YGProviders provider;\\r\\n        mapping(string => address) providerAddresses;\\r\\n        uint startTimeStamp; // In seconds\\r\\n        uint totalDeposit; // In wei\\r\\n        uint currentTotalDeposit; // In wei\\r\\n        uint totalShares;\\r\\n        address[] yieldUsers;\\r\\n        mapping(address => bool) hasOptedIn;\\r\\n        mapping(address => uint256) withdrawnYield; // In wei\\r\\n        mapping(address => uint256) withdrawnCollateral; // In wei\\r\\n        mapping(address => uint256) availableYield; // In wei\\r\\n        mapping(address => uint256) depositedCollateralByUser; // In wei\\r\\n    }\\r\\n\\r\\n    struct YieldStorage {\\r\\n        mapping(uint => YieldGeneration) yields; // termId => YieldGeneration struct\\r\\n    }\\r\\n\\r\\n    function _yieldExists(uint termId) internal view returns (bool) {\\r\\n        return _yieldStorage().yields[termId].initialized;\\r\\n    }\\r\\n\\r\\n    function _yieldLock() internal pure returns (YieldLock storage yieldLock) {\\r\\n        bytes32 position = YIELD_LOCK_POSITION;\\r\\n        assembly {\\r\\n            yieldLock.slot := position\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function _yieldProviders() internal pure returns (YieldProviders storage yieldProviders) {\\r\\n        bytes32 position = YIELD_PROVIDERS_POSITION;\\r\\n        assembly {\\r\\n            yieldProviders.slot := position\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function _yieldStorage() internal pure returns (YieldStorage storage yieldStorage) {\\r\\n        bytes32 position = YIELD_STORAGE_POSITION;\\r\\n        assembly {\\r\\n            yieldStorage.slot := position\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x26baa6eee3422b370c241a266e2a54d14f804bb745c51146e201301ad69c1e6f\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50613d13806100206000396000f3fe608060405234801561001057600080fd5b50600436106102485760003560e01c806391ce5ff71161013b578063d8f8e991116100b8578063e51a62951161007c578063e51a6295146106b7578063e9783e60146106ca578063f0d826e7146106dd578063f1ecd5d9146106f0578063fd4dba9d1461071057600080fd5b8063d8f8e9911461063a578063da3791ca1461064d578063dbd5768314610671578063dbf4281014610691578063dc9e24ae146106a457600080fd5b8063bb91b76d116100ff578063bb91b76d1461059d578063c177f091146105da578063d072f4bc146105ed578063d72bb87e14610600578063d7992e5b1461062757600080fd5b806391ce5ff7146104f757806392a6c8021461050a5780639d4eb26f1461051d578063b6abd1a414610544578063b7cf483f1461058a57600080fd5b80636bbbb5fb116101c957806377778baf1161018d57806377778baf146104825780637aed53a61461049557806380530731146104b257806384bc198d146104c55780638e15f473146104ef57600080fd5b80636bbbb5fb146103ce5780637063f618146103e157806375aaa78c1461040257806375d4e40b14610415578063762877921461045f57600080fd5b80632d591bdc116102105780632d591bdc146103345780633d17f1e01461035f5780636191474c1461039557806362f02abd146103a857806365654fe3146103bb57600080fd5b80630c64c6971461024d5780630fc4a7ef146102735780631268612d146102865780631c162dbe146102d25780631e993b5314610314575b600080fd5b61026061025b36600461326f565b610742565b6040519081526020015b60405180910390f35b610260610281366004613291565b6107f9565b6102996102943660046132c6565b61082d565b604080519615158752941515602087015292151593850193909352151560608401526080830191909152151560a082015260c00161026a565b6102e56102e03660046132c6565b6108c8565b6040805196151587526020870195909552938501929092526060840152608083015260a082015260c00161026a565b6103276103223660046132f0565b61095e565b60405161026a9190613346565b610347610342366004613291565b610ad1565b6040516001600160a01b03909116815260200161026a565b7f7c039906f7f8ca11e01b6987a88513563589699678f7d2a6c8447f44d69375f35460ff165b604051901515815260200161026a565b6102606103a3366004613291565b610b24565b6102606103b6366004613291565b610be2565b6102606103c9366004613359565b610c26565b6103856103dc366004613359565b610cfd565b6103f46103ef366004613291565b610d37565b60405161026a929190613385565b6103276104103660046132f0565b610f81565b610385610423366004613359565b6000918252600080516020613c5e833981519152602090815260408084206001600160a01b039390931684526007909201905290205460ff1690565b61047261046d366004613291565b611021565b60405161026a94939291906134c8565b610260610490366004613359565b611419565b61049d61175c565b6040805192835260208301919091520161026a565b6102606104c0366004613291565b61178d565b6104d86104d33660046132c6565b6117f4565b60408051921515835290151560208301520161026a565b610260611843565b610260610505366004613291565b611aad565b610260610518366004613291565b611b31565b61053061052b366004613291565b611b7e565b60405161026a989796959493929190613698565b610557610552366004613798565b611cb9565b604080516001600160a01b039586168152938516602085015291841691830191909152909116606082015260800161026a565b610385610598366004613845565b611dbb565b6105b06105ab3660046132c6565b611dfe565b6040805195151586526020860194909452928401919091526060830152608082015260a00161026a565b6103856105e8366004613359565b611ef5565b6102606105fb366004613291565b611f01565b61061361060e366004613291565b611f23565b60405161026a98979695949392919061387a565b610385610635366004613359565b611ff9565b610347610648366004613291565b61208e565b61066061065b366004613291565b6120d0565b60405161026a9594939291906138db565b61068461067f366004613291565b612186565b60405161026a9190613911565b61026061069f366004613291565b612267565b6103276106b2366004613920565b612392565b6102606106c53660046132f0565b612553565b6103856106d8366004613359565b6126b6565b6102606106eb366004613291565b6126f0565b6107036106fe3660046132c6565b612837565b60405161026a919061395b565b61072361071e3660046132c6565b612bd3565b604080519315158452911515602084015215159082015260600161026a565b6000828152600080516020613c7e83398151915260205260408120600481015483106107a05760405162461bcd60e51b815260206004820152600860248201526754542d47462d303160c01b60448201526064015b60405180910390fd5b60006107bd8260060154670de0b6b3a76400006105fb9190613a85565b905060648483600401546107d19190613a9c565b6107db9083613a85565b6107e6906096613a85565b6107f09190613ac5565b95945050505050565b600080610804611843565b90506000670de0b6b3a764000061081b8584613a85565b6108259190613ac5565b949350505050565b6000806000806000806000610840612c31565b600089815260209190915260408120915061085b8a8a612c55565b6001600160a01b039a909a1660009081526005830160209081526040808320546006860183528184205460078701845282852054600888018552838620546009909801909452919093205460ff9384169e9184169d9284169c509290941699509097509550909350505050565b6000818152600080516020613c5e8339815191526020526040812081908190819081908190816108f8898b612d0b565b6001600160a01b039a909a1660009081526007830160209081526040808320546008860183528184205460098701845282852054600a8801855283862054600b909801909452919093205460ff9093169d909c919b509399509097509550909350505050565b6060600061096b83610f81565b90506000815167ffffffffffffffff811115610989576109896136f5565b6040519080825280602002602001820160405280156109b2578160200160208202803683370190505b508251909150600090815b81811015610a34576109e88582815181106109da576109da613ad9565b602002602001015188611ff9565b15610a2c578481815181106109ff576109ff613ad9565b6020026020010151848481518110610a1957610a19613ad9565b6020026020010181815250508260010192505b6001016109bd565b5060008267ffffffffffffffff811115610a5057610a506136f5565b604051908082528060200260200182016040528015610a79578160200160208202803683370190505b50905060005b83811015610ac657848181518110610a9957610a99613ad9565b6020026020010151828281518110610ab357610ab3613ad9565b6020908102919091010152600101610a7f565b509695505050505050565b600080610adc612c31565b6000848152602091909152604090206004810154600182018054929350918110610b0857610b08613ad9565b6000918252602090912001546001600160a01b03169392505050565b600080610b2f612c31565b600084815260209182526040808220600080516020613c7e8339815191529093529020815491925090600190610100900460ff166004811115610b7457610b746133aa565b14610b83575060009392505050565b60008160070154836002015460018560040154610ba09190613a9c565b8460050154610baf9190613a85565b610bb99190613aef565b610bc39190613aef565b905080421115610bd857506000949350505050565b6107f04282613a9c565b600080610bed612c31565b6000848152602091909152604090206004810154601482015491925090610c15906001613aef565b610c1f9190613a9c565b9392505050565b6000828152600080516020613c5e83398151915260209081526040808320600080516020613c9e833981519152909252822060028201548390610c699042613a9c565b90506000610c778787612d0b565b6001600160a01b0387166000908152600886016020526040902054610c9c9190613aef565b6001600160a01b03871660009081526005850160205260409020549091508290610cce83670de0b6b3a7640000613a85565b610cd89190613ac5565b610ce6906301e13380613a85565b610cf09190613ac5565b9450505050505b92915050565b600080610d08612c31565b6000858152602091825260408082206001600160a01b0387168352601501909252205460ff1691505092915050565b6000818152600080516020613c9e833981519152602052604081208054606092839291610100900460ff166003811115610d7357610d736133aa565b14610d9857505060408051600080825260208201908152818301909252939092509050565b600381015460008167ffffffffffffffff811115610db857610db86136f5565b604051908082528060200260200182016040528015610de1578160200160208202803683370190505b5090506000805b83811015610e585760006001600160a01b0316856003018281548110610e1057610e10613ad9565b6000918252602090912001546001600160a01b031603610e505780838381518110610e3d57610e3d613ad9565b6020026020010181815250508160010191505b600101610de8565b5060008167ffffffffffffffff811115610e7457610e746136f5565b604051908082528060200260200182016040528015610e9d578160200160208202803683370190505b50905060008267ffffffffffffffff811115610ebb57610ebb6136f5565b604051908082528060200260200182016040528015610ee4578160200160208202803683370190505b50905060005b83811015610f7257848181518110610f0457610f04613ad9565b6020026020010151838281518110610f1e57610f1e613ad9565b602002602001018181525050610f4d8a868381518110610f4057610f40613ad9565b6020026020010151610742565b828281518110610f5f57610f5f613ad9565b6020908102919091010152600101610eea565b50909890975095505050505050565b6001600160a01b03811660009081527f87101b21d556417ad2b8e8f2700dbad90721d5d50a1f435f2dee0b9dc981ac8b602090815260408083208054825181850281018501909352808352606094600080516020613cbe83398151915294909392919083018282801561101357602002820191906000526020600020905b815481526020019060010190808311610fff575b509398975050505050505050565b611029613202565b6000806110ea6040518061030001604052806060815260200160608152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600015158152602001600081526020016000815260200160001515815260200160008152602001600081526020016000815260200160008152602001600081526020016060815260200160001515815260200160008152602001600081526020016000815260200160008152602001606081525090565b6000858152600080516020613c9e833981519152602052604081209061110e612c31565b600088815260209182526040808220600080516020613c7e83398151915284529181902081516101608101909252805460ff8082161515845293955091939092908401916101009004166003811115611169576111696133aa565b600381111561117a5761117a6133aa565b815281546201000090046001600160a01b039081166020830152600183015460408301526002830154606083015260038301546080830152600483015460a0830152600583015460c0830152600683015460e083015260078301546101008301526008909201549091166101209091015295506000600080516020613c5e8339815191526000898152602091909152604081209150806112198a610d37565b8654865460408051610300810182528581526020810185905260ff6101009485900481169e50939092049092169a5092945090925081016112598c611aad565b81526020016112678c610b24565b81526020016112758c611b31565b81526020016112838c610be2565b81526020016112918c6126f0565b815260200161129e611843565b8152865460ff90811615156020808401919091526001808a01546040808601919091526002808c015460608701528a54909416151560808601529289015460a0850152600389015460c0850152600489015460e0850152601389015461010085015260148901546101208501528801805483518184028101840190945280845261014090940193909183018282801561136057602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611342575b505050505081526020018460000160009054906101000a900460ff1615158152602001846002015481526020018460030154815260200184600401548152602001846005015481526020018460060180548060200260200160405190810160405280929190818152602001828054801561140357602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116113e5575b5050505050815250955050505050509193509193565b6000828152600080516020613c7e833981519152602052604081208161143d612c31565b600086815260209182526040808220600080516020613c9e8339815191528452818320600080516020613c5e83398151915285528284206001600160a01b038a16855260058201865283852054600a8201875284862054601585019097529390942054815492965090949160ff9182169160029161010090041660038111156114c8576114c86133aa565b14806114d15750805b156114e7576114e08284613aef565b975061174f565b60018554610100900460ff166003811115611504576115046133aa565b0361174a576001600160a01b038916600090815260078701602052604081205460ff1615801561154f57506001600160a01b038a16600090815260168801602052604090205460ff16155b1561157757600a61155f8c6126f0565b61156a90600f613a85565b6115749190613ac5565b90505b6001600160a01b038a16600090815260078801602052604090205460ff1680156115bc57506001600160a01b038a16600090815260168801602052604090205460ff16155b8061160757506001600160a01b038a16600090815260168801602052604090205460ff16801561160757506001600160a01b038a16600090815260078801602052604090205460ff16155b15611669576000876004015488601401546116229190613a9c565b905060006116418a60060154670de0b6b3a76400006105fb9190613a85565b9050600a61164f8284613a85565b61165a90600f613a85565b6116649190613ac5565b925050505b6001600160a01b038a16600090815260078801602052604090205460ff1680156116ad57506001600160a01b038a16600090815260168801602052604090205460ff165b1561171b5760006001886004015489601401546116ca9190613a9c565b6116d49190613a9c565b905060006116f38a60060154670de0b6b3a76400006105fb9190613a85565b9050600a6117018284613a85565b61170c90600f613a85565b6117169190613ac5565b925050505b8084111561173f578261172e8286613a9c565b6117389190613aef565b9850611744565b600098505b5061174f565b600097505b5050505050505092915050565b600080516020613cbe83398151915280546000918291829061178090600190613a9c565b9154919491935090915050565b6000818152600080516020613c5e83398151915260205260408120600281015482906117b99042613a9c565b90508082600401546117ca86612267565b6117dc90670de0b6b3a7640000613a85565b6117e69190613ac5565b61081b906301e13380613a85565b6000806000611801612c31565b6000858152602091825260408082206001600160a01b038916835260078101845281832054601690910190935290205460ff9182169450169150509250929050565b6000807f138fa7b895cc6132bd44317f3510a9c38821e93ca223f9fdc532527c01963ec490506000806000808460000160405161188d90661155120bd554d160ca1b815260070190565b9081526040805191829003602001822054633fabe5a360e21b835290516001600160a01b039091169163feaf968c9160048083019260a09291908290030181865afa1580156118e0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119049190613b19565b945094505093509350816000141580156119305750836001600160501b0316816001600160501b031610155b801561193c5750600083135b6119735760405162461bcd60e51b81526020600482015260086024820152672a2a16a3a316981960c11b6044820152606401610797565b6000806000808860000160405161199890671554d110cbd554d160c21b815260080190565b9081526040805191829003602001822054633fabe5a360e21b835290516001600160a01b039091169163feaf968c9160048083019260a09291908290030181865afa1580156119eb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a0f9190613b19565b94509450509350935081600014158015611a3b5750836001600160501b0316816001600160501b031610155b8015611a475750600083135b611a7e5760405162461bcd60e51b81526020600482015260086024820152672a2a16a3a316981960c11b6044820152606401610797565b6000611a8a8489613b69565b9050611a9e81670de0b6b3a7640000613b97565b9a505050505050505050505090565b6000818152600080516020613c7e83398151915260209081526040808320600080516020613c9e833981519152909252822060018101541580611b03575081600301548160010154611aff9190613aef565b4210155b15611b12575060009392505050565b4282600301548260010154611b279190613aef565b6108259190613a9c565b600080611b3c612c31565b600084815260209182526040808220600080516020613c7e833981519152909352812060028301546004840154600583015494955091939091610bb991613a85565b6000808080806060818080600080516020613c5e83398151915260000160008b815260200190815260200160002090508060000160009054906101000a900460ff1681600201548260030154836004015484600501548560060186600101604051611bf8906816985e5b95985d5b1d60ba1b815260090190565b908152604051908190036020018120546001600160a01b0316906001890190611c2e906605a61796e5a61760cc1b815260070190565b908152604080519182900360209081018320548554808302850183019093528284526001600160a01b031692918591830182828015611c9657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611c78575b505050505092509850985098509850985098509850985050919395975091939597565b6040516000908190819081907f138fa7b895cc6132bd44317f3510a9c38821e93ca223f9fdc532527c01963ec4907ff27a5986330dc78d016d8604ee1a040d5a789fbaa2d0c27f5dfded4b616b8977908290611d16908c90613bc7565b908152604051908190036020018120546001600160a01b0316908390611d3d908c90613bc7565b908152604051908190036020018120546001600160a01b0316908390611d64908c90613bc7565b908152604051908190036020018120546001600160a01b0316908490611d8b908c90613bc7565b9081526040519081900360200190205492985090965094506001600160a01b031692505050945094509450949050565b600080611dc6612c31565b600086815260209182526040808220878352600c0183528082206001600160a01b0387168352909252205460ff169150509392505050565b6000818152600080516020613c9e83398151915260205260408120819081908190819081611e2a612c31565b600089815260209182526040808220600080516020613c7e83398151915284528183206001600160a01b038e168452600682019094529082205490935060ff16611e9057611e898260060154670de0b6b3a76400006105fb9190613a85565b9050611e9c565b611e998a6126f0565b90505b6001600160a01b039a909a1660009081526004840160209081526040808320546005870183528184205460068801845282852054600790980190935292205460ff9092169c909b949a5090985092965091945050505050565b6000610c1f8383612d34565b600080611f0c611843565b905060008161081b85670de0b6b3a7640000613a85565b600080600060606000806000806000611f3a612c31565b60008b81526020918252604090819020805460028201546003830154600484015460148501546001860180548851818b0281018b0190995280895296995060ff80871699610100880490911698620100009097046001600160a01b0316979196918791830182828015611fd657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611fb8575b505050505094509850985098509850985098509850985050919395975091939597565b600080612004612c31565b600085815260209182526040808220600080516020613c9e83398151915284528183206001600160a01b03881684526005820190945291205490925060ff1615801561206b57506001600160a01b038416600090815260048201602052604090205460ff16155b1561207b57600192505050610cf7565b600092505050610cf7565b505092915050565b600080612099612c31565b60008481526020919091526040902060048101549091506001808301916120c09190613a9c565b81548110610b0857610b08613ad9565b6000808080606081600080516020613c9e8339815191526000888152602091825260409081902080546001820154600283015460038401805486518189028101890190975280875294975060ff80851697610100909504169592949193909291839183018282801561216b57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161214d575b50505050509050955095509550955095505091939590929450565b61218e613202565b6000828152600080516020613c7e833981519152602090815260409182902082516101608101909352805460ff8082161515855291928401916101009091041660038111156121df576121df6133aa565b60038111156121f0576121f06133aa565b815281546001600160a01b036201000090910481166020830152600183015460408301526002830154606083015260038301546080830152600483015460a0830152600583015460c0830152600683015460e083015260078301546101008301526008909201549091166101209091015292915050565b6000818152600080516020613c5e833981519152602090815260408083206006810180548351818602810186019094528084529193859384939092918301828280156122dc57602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116122be575b505083519394506000925050505b818110156123485784600801600084838151811061230a5761230a613ad9565b60200260200101516001600160a01b03166001600160a01b03168152602001908152602001600020548461233e9190613aef565b93506001016122ea565b5060006123558786612e5e565b905084600401548111156123875760048501546123728286613aef565b61237c9190613a9c565b979650505050505050565b509195945050505050565b6060600061239f84610f81565b90506000815167ffffffffffffffff8111156123bd576123bd6136f5565b6040519080825280602002602001820160405280156123e6578160200160208202803683370190505b508251909150600090815b818110156124b55786600381111561240b5761240b6133aa565b600080516020613cbe833981519152600101600087848151811061243157612431613ad9565b6020026020010151815260200190815260200160002060000160019054906101000a900460ff166003811115612469576124696133aa565b036124ad5784818151811061248057612480613ad9565b602002602001015184848151811061249a5761249a613ad9565b6020026020010181815250508260010192505b6001016123f1565b5060008267ffffffffffffffff8111156124d1576124d16136f5565b6040519080825280602002602001820160405280156124fa578160200160208202803683370190505b50905060005b838110156125475784818151811061251a5761251a613ad9565b602002602001015182828151811061253457612534613ad9565b6020908102919091010152600101612500565b50979650505050505050565b6000806000612563846001612392565b90506000612572856000612392565b825181519192509060005b82811015612620576000600080516020613cbe83398151915260010160008784815181106125ad576125ad613ad9565b60200260200101518152602001908152602001600020905060006125e98784815181106125dc576125dc613ad9565b6020026020010151610be2565b82600601546125f89190613a85565b61260590620f4240613a85565b90506126118189613aef565b9750826001019250505061257d565b5060005b818110156126aa576000600080516020613cbe833981519152600101600086848151811061265457612654613ad9565b6020026020010151815260200190815260200160002090506000816004015482600601546126829190613a85565b61268f90620f4240613a85565b905061269b8189613aef565b97508260010192505050612624565b50939695505050505050565b6000806126c1612c31565b6000858152602091825260408082206001600160a01b0387168352600601909252205460ff1691505092915050565b6000806126fb612c31565b600084815260209182526040808220600080516020613c7e83398151915290935281208254929350918190610100900460ff16600481111561273f5761273f6133aa565b0361274f57506004810154612804565b60018354610100900460ff16600481111561276c5761276c6133aa565b1480612792575060028354610100900460ff166004811115612790576127906133aa565b145b156127a7576127a085610be2565b9050612804565b60038354610100900460ff1660048111156127c4576127c46133aa565b036127de5760016127d486610be2565b6127a09190613a9c565b60048354610100900460ff1660048111156127fb576127fb6133aa565b03612804575060005b60006128218360060154670de0b6b3a76400006105fb9190613a85565b905061282d8183613a85565b9695505050505050565b6128f5604051806102c001604052806000151581526020016000151581526020016000815260200160008152602001600081526020016000815260200160008152602001600015158152602001600015158152602001600015158152602001600015158152602001600015158152602001600015158152602001600015158152602001600081526020016000815260200160001515815260200160008152602001600081526020016000815260200160008152602001600081525090565b6000828152600080516020613c9e8339815191526020526040812090612919612c31565b600085815260209182526040808220600080516020613c7e8339815191528452818320600080516020613c5e83398151915285528284206001600160a01b038b1685526006830186528385205460048901909652929093205460ff90811615158852909450919290911661298d8789612d34565b15156020808801919091526001600160a01b038916600081815260058089018452604080832054818c015283835260068a0185528083205460608c01528383526007808b0186528184205460808d015284845291890185528083205460ff908116151560e08d01528615156101008d0152848452918901855280832054821615156101208c015283835260168901855280832054821615156101408c0152928252600888019093522054161515610160870152612a4a8888612c55565b151561018087015260048401546000908152600c8501602090815260408083206001600160a01b038c168085529083528184205460ff90811615156101a08c01529084526007860190925290912054161515610200870152612aac8789611419565b60c087015260008554610100900460ff166003811115612ace57612ace6133aa565b14612bc85760008115612aeb57612ae4886126f0565b9050612b09565b612b068460060154670de0b6b3a76400006105fb9190613a85565b90505b60a087018190526001600160a01b03891660008181526009870160209081526040808320546101c08c0152838352600b89018252808320546101e08c0152928252600786019052205460ff1615612bc6576001600160a01b0389166000818152600b850160209081526040808320546102208c0152838352600987018252808320546102408c0152838352600a87018252808320546102608c01529282526008860190522054610280880152612bbf888a612d0b565b6102a08801525b505b505050505092915050565b600080600080612be1612c31565b6000868152602091909152604081209150612bff600d830188612faa565b90506000612c1083600f0189612faa565b90506000612c21846011018a612faa565b9299919850919650945050505050565b7f6751f7e27cecf86d7136f5749c224248cae80a39fafb59f8f6bf12c52816307c90565b600080612c60612c31565b600084815260209182526040808220600080516020613c9e83398151915284528183206001600160a01b03891684526015820190945291205490925060ff1615612cad5760009250612086565b60006064612cba866126f0565b612cc590606e613a85565b612ccf9190613ac5565b6001600160a01b0387166000908152600584016020526040902054909150811115612cfd5760019350612d02565b600093505b50505092915050565b600080670de0b6b3a7640000612d218585612fcc565b612d2a86613058565b61081b9190613a85565b6000828152600080516020613c9e833981519152602090815260408083206001600160a01b0385168452600581019092528220548290612d73866131e4565b612df25760405163bb91b76d60e01b81526001600160a01b038616600482015260248101879052309063bb91b76d9060440160a060405180830381865afa158015612dc2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612de69190613bf6565b9550612e559350505050565b60405163f0d826e760e01b815260048101879052309063f0d826e790602401602060405180830381865afa158015612e2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e529190613c44565b91505b10949350505050565b60008082600101604051612e81906816985e5b95985d5b1d60ba1b815260090190565b90815260405190819003602001812054631398fee160e31b82526001600160a01b031690639cc7f70890612ebd90879060040190815260200190565b602060405180830381865afa158015612eda573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612efe9190613c44565b9050600083600101604051612f22906816985e5b95985d5b1d60ba1b815260090190565b908152604080516020928190038301812054631df1ee3f60e21b825291516001600160a01b03909216926377c7b8fc926004808401938290030181865afa158015612f71573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612f959190613c44565b9050670de0b6b3a76400006107e68284613a85565b6001600160a01b03811660009081526001830160205260408120541515610c1f565b6000828152600080516020613c5e8339815191526020526040812060048101548203612ffc576000915050610cf7565b60048101546001600160a01b0384166000908152600983016020908152604080832054600b8601909252909120546130349190613a9c565b61304690670de0b6b3a7640000613a85565b6130509190613ac5565b915050610cf7565b6000818152600080516020613c5e833981519152602052604080822081516816985e5b95985d5b1d60ba1b8152600182016009820152915191829003602901822054631398fee160e31b835260048301859052909183916001600160a01b031690639cc7f70890602401602060405180830381865afa1580156130df573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131039190613c44565b9050600082600101604051613127906816985e5b95985d5b1d60ba1b815260090190565b908152604080516020928190038301812054631df1ee3f60e21b825291516001600160a01b03909216926377c7b8fc926004808401938290030181865afa158015613176573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061319a9190613c44565b90506000670de0b6b3a76400006131b18385613a85565b6131bb9190613ac5565b905083600401548111156131d857600484015461282d9082613a9c565b50600095945050505050565b60006131ee612c31565b600092835260205250604090205460ff1690565b60408051610160810190915260008082526020820190815260200160006001600160a01b031681526020016000815260200160008152602001600081526020016000815260200160008152602001600081526020016000815260200160006001600160a01b031681525090565b6000806040838503121561328257600080fd5b50508035926020909101359150565b6000602082840312156132a357600080fd5b5035919050565b80356001600160a01b03811681146132c157600080fd5b919050565b600080604083850312156132d957600080fd5b6132e2836132aa565b946020939093013593505050565b60006020828403121561330257600080fd5b610c1f826132aa565b600081518084526020808501945080840160005b8381101561333b5781518752958201959082019060010161331f565b509495945050505050565b602081526000610c1f602083018461330b565b6000806040838503121561336c57600080fd5b8235915061337c602084016132aa565b90509250929050565b604081526000613398604083018561330b565b82810360208401526107f0818561330b565b634e487b7160e01b600052602160045260246000fd5b600481106133d0576133d06133aa565b50565b6133dc816133c0565b9052565b80511515825260208101516133f860208401826133d3565b50604081015161341360408401826001600160a01b03169052565b50606081015160608301526080810151608083015260a081015160a083015260c081015160c083015260e081015160e083015261010080820151818401525061012080820151818401525061014080820151613479828501826001600160a01b03169052565b50505050565b600581106133dc576133dc6133aa565b600081518084526020808501945080840160005b8381101561333b5781516001600160a01b0316875295820195908201906001016134a3565b60006101c06134d783886133e0565b6134e0866133c0565b856101608401526134f561018084018661347f565b806101a08401528351610300828501526135136104c085018261330b565b905060208501516101bf1980868403016101e0870152613533838361330b565b92506040870151915061020082818801526060880151925061022083818901526080890151935061024084818a015260a08a0151945061026085818b015260c08b0151955061028086818c015260e08c015196506102a087818d01526101008d015197506102c06135a7818e018a15159052565b6101208e015198506102e089818f01526101408f01516103008f01526101608f015199506135da6103208f018b15159052565b6101808f01516103408f01526101a08f01516103608f01529a8e01516103808e01526101e08e01516103a08e0152868e01516103c08e0152858e01518d8b0389016103e08f01529a61362c8b8d61348f565b9b50858f01519a506136436104008f018c15159052565b938e01516104208e0152918d01516104408d01528c01516104608c01528b01516104808b01528a01518988039094016104a08a01525091935061368c925084915083905061348f565b98975050505050505050565b60006101008a151583528960208401528860408401528760608401528660808401528060a08401526136cc8184018761348f565b6001600160a01b0395861660c08501529390941660e09092019190915250979650505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f83011261371c57600080fd5b813567ffffffffffffffff80821115613737576137376136f5565b604051601f8301601f19908116603f0116810190828211818310171561375f5761375f6136f5565b8160405283815286602085880101111561377857600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600080608085870312156137ae57600080fd5b843567ffffffffffffffff808211156137c657600080fd5b6137d28883890161370b565b955060208701359150808211156137e857600080fd5b6137f48883890161370b565b9450604087013591508082111561380a57600080fd5b6138168883890161370b565b9350606087013591508082111561382c57600080fd5b506138398782880161370b565b91505092959194509250565b60008060006060848603121561385a57600080fd5b8335925060208401359150613871604085016132aa565b90509250925092565b60006101008a15158352613891602084018b61347f565b6001600160a01b0389166040840152606083018190526138b38184018961348f565b9150508560808301528460a08301528360c08301528260e08301529998505050505050505050565b85151581526138e9856133c0565b84602082015283604082015282606082015260a06080820152600061237c60a083018461348f565b6101608101610cf782846133e0565b6000806040838503121561393357600080fd5b61393c836132aa565b915060208301356004811061395057600080fd5b809150509250929050565b8151151581526102c081016020830151613979602084018215159052565b5060408301516040830152606083015160608301526080830151608083015260a083015160a083015260c083015160c083015260e08301516139bf60e084018215159052565b5061010083810151151590830152610120808401511515908301526101408084015115159083015261016080840151151590830152610180808401511515908301526101a0808401511515908301526101c080840151908301526101e080840151908301526102008084015115159083015261022080840151908301526102408084015190830152610260808401519083015261028080840151908301526102a092830151929091019190915290565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610cf757610cf7613a6f565b81810381811115610cf757610cf7613a6f565b634e487b7160e01b600052601260045260246000fd5b600082613ad457613ad4613aaf565b500490565b634e487b7160e01b600052603260045260246000fd5b80820180821115610cf757610cf7613a6f565b80516001600160501b03811681146132c157600080fd5b600080600080600060a08688031215613b3157600080fd5b613b3a86613b02565b9450602086015193506040860151925060608601519150613b5d60808701613b02565b90509295509295909350565b600082613b7857613b78613aaf565b600160ff1b821460001984141615613b9257613b92613a6f565b500590565b80820260008212600160ff1b84141615613bb357613bb3613a6f565b8181058314821517610cf757610cf7613a6f565b6000825160005b81811015613be85760208186018101518583015201613bce565b506000920191825250919050565b600080600080600060a08688031215613c0e57600080fd5b85518015158114613c1e57600080fd5b602087015160408801516060890151608090990151929a91995097965090945092505050565b600060208284031215613c5657600080fd5b505191905056fe29d9cba46c358ba7c1b8945751229339792c7c62e3197c240fa98916e75ffbf987101b21d556417ad2b8e8f2700dbad90721d5d50a1f435f2dee0b9dc981ac8a35fa70a6f9ae8a4d427ebe0c1be62ffd2870fecc1df41c6fda0bf5803e56288887101b21d556417ad2b8e8f2700dbad90721d5d50a1f435f2dee0b9dc981ac89a2646970667358221220447f250adadadde1e6211bcecd518cef6d6daebc90baafd4168618b0e9c30fd064736f6c63430008120033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106102485760003560e01c806391ce5ff71161013b578063d8f8e991116100b8578063e51a62951161007c578063e51a6295146106b7578063e9783e60146106ca578063f0d826e7146106dd578063f1ecd5d9146106f0578063fd4dba9d1461071057600080fd5b8063d8f8e9911461063a578063da3791ca1461064d578063dbd5768314610671578063dbf4281014610691578063dc9e24ae146106a457600080fd5b8063bb91b76d116100ff578063bb91b76d1461059d578063c177f091146105da578063d072f4bc146105ed578063d72bb87e14610600578063d7992e5b1461062757600080fd5b806391ce5ff7146104f757806392a6c8021461050a5780639d4eb26f1461051d578063b6abd1a414610544578063b7cf483f1461058a57600080fd5b80636bbbb5fb116101c957806377778baf1161018d57806377778baf146104825780637aed53a61461049557806380530731146104b257806384bc198d146104c55780638e15f473146104ef57600080fd5b80636bbbb5fb146103ce5780637063f618146103e157806375aaa78c1461040257806375d4e40b14610415578063762877921461045f57600080fd5b80632d591bdc116102105780632d591bdc146103345780633d17f1e01461035f5780636191474c1461039557806362f02abd146103a857806365654fe3146103bb57600080fd5b80630c64c6971461024d5780630fc4a7ef146102735780631268612d146102865780631c162dbe146102d25780631e993b5314610314575b600080fd5b61026061025b36600461326f565b610742565b6040519081526020015b60405180910390f35b610260610281366004613291565b6107f9565b6102996102943660046132c6565b61082d565b604080519615158752941515602087015292151593850193909352151560608401526080830191909152151560a082015260c00161026a565b6102e56102e03660046132c6565b6108c8565b6040805196151587526020870195909552938501929092526060840152608083015260a082015260c00161026a565b6103276103223660046132f0565b61095e565b60405161026a9190613346565b610347610342366004613291565b610ad1565b6040516001600160a01b03909116815260200161026a565b7f7c039906f7f8ca11e01b6987a88513563589699678f7d2a6c8447f44d69375f35460ff165b604051901515815260200161026a565b6102606103a3366004613291565b610b24565b6102606103b6366004613291565b610be2565b6102606103c9366004613359565b610c26565b6103856103dc366004613359565b610cfd565b6103f46103ef366004613291565b610d37565b60405161026a929190613385565b6103276104103660046132f0565b610f81565b610385610423366004613359565b6000918252600080516020613c5e833981519152602090815260408084206001600160a01b039390931684526007909201905290205460ff1690565b61047261046d366004613291565b611021565b60405161026a94939291906134c8565b610260610490366004613359565b611419565b61049d61175c565b6040805192835260208301919091520161026a565b6102606104c0366004613291565b61178d565b6104d86104d33660046132c6565b6117f4565b60408051921515835290151560208301520161026a565b610260611843565b610260610505366004613291565b611aad565b610260610518366004613291565b611b31565b61053061052b366004613291565b611b7e565b60405161026a989796959493929190613698565b610557610552366004613798565b611cb9565b604080516001600160a01b039586168152938516602085015291841691830191909152909116606082015260800161026a565b610385610598366004613845565b611dbb565b6105b06105ab3660046132c6565b611dfe565b6040805195151586526020860194909452928401919091526060830152608082015260a00161026a565b6103856105e8366004613359565b611ef5565b6102606105fb366004613291565b611f01565b61061361060e366004613291565b611f23565b60405161026a98979695949392919061387a565b610385610635366004613359565b611ff9565b610347610648366004613291565b61208e565b61066061065b366004613291565b6120d0565b60405161026a9594939291906138db565b61068461067f366004613291565b612186565b60405161026a9190613911565b61026061069f366004613291565b612267565b6103276106b2366004613920565b612392565b6102606106c53660046132f0565b612553565b6103856106d8366004613359565b6126b6565b6102606106eb366004613291565b6126f0565b6107036106fe3660046132c6565b612837565b60405161026a919061395b565b61072361071e3660046132c6565b612bd3565b604080519315158452911515602084015215159082015260600161026a565b6000828152600080516020613c7e83398151915260205260408120600481015483106107a05760405162461bcd60e51b815260206004820152600860248201526754542d47462d303160c01b60448201526064015b60405180910390fd5b60006107bd8260060154670de0b6b3a76400006105fb9190613a85565b905060648483600401546107d19190613a9c565b6107db9083613a85565b6107e6906096613a85565b6107f09190613ac5565b95945050505050565b600080610804611843565b90506000670de0b6b3a764000061081b8584613a85565b6108259190613ac5565b949350505050565b6000806000806000806000610840612c31565b600089815260209190915260408120915061085b8a8a612c55565b6001600160a01b039a909a1660009081526005830160209081526040808320546006860183528184205460078701845282852054600888018552838620546009909801909452919093205460ff9384169e9184169d9284169c509290941699509097509550909350505050565b6000818152600080516020613c5e8339815191526020526040812081908190819081908190816108f8898b612d0b565b6001600160a01b039a909a1660009081526007830160209081526040808320546008860183528184205460098701845282852054600a8801855283862054600b909801909452919093205460ff9093169d909c919b509399509097509550909350505050565b6060600061096b83610f81565b90506000815167ffffffffffffffff811115610989576109896136f5565b6040519080825280602002602001820160405280156109b2578160200160208202803683370190505b508251909150600090815b81811015610a34576109e88582815181106109da576109da613ad9565b602002602001015188611ff9565b15610a2c578481815181106109ff576109ff613ad9565b6020026020010151848481518110610a1957610a19613ad9565b6020026020010181815250508260010192505b6001016109bd565b5060008267ffffffffffffffff811115610a5057610a506136f5565b604051908082528060200260200182016040528015610a79578160200160208202803683370190505b50905060005b83811015610ac657848181518110610a9957610a99613ad9565b6020026020010151828281518110610ab357610ab3613ad9565b6020908102919091010152600101610a7f565b509695505050505050565b600080610adc612c31565b6000848152602091909152604090206004810154600182018054929350918110610b0857610b08613ad9565b6000918252602090912001546001600160a01b03169392505050565b600080610b2f612c31565b600084815260209182526040808220600080516020613c7e8339815191529093529020815491925090600190610100900460ff166004811115610b7457610b746133aa565b14610b83575060009392505050565b60008160070154836002015460018560040154610ba09190613a9c565b8460050154610baf9190613a85565b610bb99190613aef565b610bc39190613aef565b905080421115610bd857506000949350505050565b6107f04282613a9c565b600080610bed612c31565b6000848152602091909152604090206004810154601482015491925090610c15906001613aef565b610c1f9190613a9c565b9392505050565b6000828152600080516020613c5e83398151915260209081526040808320600080516020613c9e833981519152909252822060028201548390610c699042613a9c565b90506000610c778787612d0b565b6001600160a01b0387166000908152600886016020526040902054610c9c9190613aef565b6001600160a01b03871660009081526005850160205260409020549091508290610cce83670de0b6b3a7640000613a85565b610cd89190613ac5565b610ce6906301e13380613a85565b610cf09190613ac5565b9450505050505b92915050565b600080610d08612c31565b6000858152602091825260408082206001600160a01b0387168352601501909252205460ff1691505092915050565b6000818152600080516020613c9e833981519152602052604081208054606092839291610100900460ff166003811115610d7357610d736133aa565b14610d9857505060408051600080825260208201908152818301909252939092509050565b600381015460008167ffffffffffffffff811115610db857610db86136f5565b604051908082528060200260200182016040528015610de1578160200160208202803683370190505b5090506000805b83811015610e585760006001600160a01b0316856003018281548110610e1057610e10613ad9565b6000918252602090912001546001600160a01b031603610e505780838381518110610e3d57610e3d613ad9565b6020026020010181815250508160010191505b600101610de8565b5060008167ffffffffffffffff811115610e7457610e746136f5565b604051908082528060200260200182016040528015610e9d578160200160208202803683370190505b50905060008267ffffffffffffffff811115610ebb57610ebb6136f5565b604051908082528060200260200182016040528015610ee4578160200160208202803683370190505b50905060005b83811015610f7257848181518110610f0457610f04613ad9565b6020026020010151838281518110610f1e57610f1e613ad9565b602002602001018181525050610f4d8a868381518110610f4057610f40613ad9565b6020026020010151610742565b828281518110610f5f57610f5f613ad9565b6020908102919091010152600101610eea565b50909890975095505050505050565b6001600160a01b03811660009081527f87101b21d556417ad2b8e8f2700dbad90721d5d50a1f435f2dee0b9dc981ac8b602090815260408083208054825181850281018501909352808352606094600080516020613cbe83398151915294909392919083018282801561101357602002820191906000526020600020905b815481526020019060010190808311610fff575b509398975050505050505050565b611029613202565b6000806110ea6040518061030001604052806060815260200160608152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600015158152602001600081526020016000815260200160001515815260200160008152602001600081526020016000815260200160008152602001600081526020016060815260200160001515815260200160008152602001600081526020016000815260200160008152602001606081525090565b6000858152600080516020613c9e833981519152602052604081209061110e612c31565b600088815260209182526040808220600080516020613c7e83398151915284529181902081516101608101909252805460ff8082161515845293955091939092908401916101009004166003811115611169576111696133aa565b600381111561117a5761117a6133aa565b815281546201000090046001600160a01b039081166020830152600183015460408301526002830154606083015260038301546080830152600483015460a0830152600583015460c0830152600683015460e083015260078301546101008301526008909201549091166101209091015295506000600080516020613c5e8339815191526000898152602091909152604081209150806112198a610d37565b8654865460408051610300810182528581526020810185905260ff6101009485900481169e50939092049092169a5092945090925081016112598c611aad565b81526020016112678c610b24565b81526020016112758c611b31565b81526020016112838c610be2565b81526020016112918c6126f0565b815260200161129e611843565b8152865460ff90811615156020808401919091526001808a01546040808601919091526002808c015460608701528a54909416151560808601529289015460a0850152600389015460c0850152600489015460e0850152601389015461010085015260148901546101208501528801805483518184028101840190945280845261014090940193909183018282801561136057602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611342575b505050505081526020018460000160009054906101000a900460ff1615158152602001846002015481526020018460030154815260200184600401548152602001846005015481526020018460060180548060200260200160405190810160405280929190818152602001828054801561140357602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116113e5575b5050505050815250955050505050509193509193565b6000828152600080516020613c7e833981519152602052604081208161143d612c31565b600086815260209182526040808220600080516020613c9e8339815191528452818320600080516020613c5e83398151915285528284206001600160a01b038a16855260058201865283852054600a8201875284862054601585019097529390942054815492965090949160ff9182169160029161010090041660038111156114c8576114c86133aa565b14806114d15750805b156114e7576114e08284613aef565b975061174f565b60018554610100900460ff166003811115611504576115046133aa565b0361174a576001600160a01b038916600090815260078701602052604081205460ff1615801561154f57506001600160a01b038a16600090815260168801602052604090205460ff16155b1561157757600a61155f8c6126f0565b61156a90600f613a85565b6115749190613ac5565b90505b6001600160a01b038a16600090815260078801602052604090205460ff1680156115bc57506001600160a01b038a16600090815260168801602052604090205460ff16155b8061160757506001600160a01b038a16600090815260168801602052604090205460ff16801561160757506001600160a01b038a16600090815260078801602052604090205460ff16155b15611669576000876004015488601401546116229190613a9c565b905060006116418a60060154670de0b6b3a76400006105fb9190613a85565b9050600a61164f8284613a85565b61165a90600f613a85565b6116649190613ac5565b925050505b6001600160a01b038a16600090815260078801602052604090205460ff1680156116ad57506001600160a01b038a16600090815260168801602052604090205460ff165b1561171b5760006001886004015489601401546116ca9190613a9c565b6116d49190613a9c565b905060006116f38a60060154670de0b6b3a76400006105fb9190613a85565b9050600a6117018284613a85565b61170c90600f613a85565b6117169190613ac5565b925050505b8084111561173f578261172e8286613a9c565b6117389190613aef565b9850611744565b600098505b5061174f565b600097505b5050505050505092915050565b600080516020613cbe83398151915280546000918291829061178090600190613a9c565b9154919491935090915050565b6000818152600080516020613c5e83398151915260205260408120600281015482906117b99042613a9c565b90508082600401546117ca86612267565b6117dc90670de0b6b3a7640000613a85565b6117e69190613ac5565b61081b906301e13380613a85565b6000806000611801612c31565b6000858152602091825260408082206001600160a01b038916835260078101845281832054601690910190935290205460ff9182169450169150509250929050565b6000807f138fa7b895cc6132bd44317f3510a9c38821e93ca223f9fdc532527c01963ec490506000806000808460000160405161188d90661155120bd554d160ca1b815260070190565b9081526040805191829003602001822054633fabe5a360e21b835290516001600160a01b039091169163feaf968c9160048083019260a09291908290030181865afa1580156118e0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119049190613b19565b945094505093509350816000141580156119305750836001600160501b0316816001600160501b031610155b801561193c5750600083135b6119735760405162461bcd60e51b81526020600482015260086024820152672a2a16a3a316981960c11b6044820152606401610797565b6000806000808860000160405161199890671554d110cbd554d160c21b815260080190565b9081526040805191829003602001822054633fabe5a360e21b835290516001600160a01b039091169163feaf968c9160048083019260a09291908290030181865afa1580156119eb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a0f9190613b19565b94509450509350935081600014158015611a3b5750836001600160501b0316816001600160501b031610155b8015611a475750600083135b611a7e5760405162461bcd60e51b81526020600482015260086024820152672a2a16a3a316981960c11b6044820152606401610797565b6000611a8a8489613b69565b9050611a9e81670de0b6b3a7640000613b97565b9a505050505050505050505090565b6000818152600080516020613c7e83398151915260209081526040808320600080516020613c9e833981519152909252822060018101541580611b03575081600301548160010154611aff9190613aef565b4210155b15611b12575060009392505050565b4282600301548260010154611b279190613aef565b6108259190613a9c565b600080611b3c612c31565b600084815260209182526040808220600080516020613c7e833981519152909352812060028301546004840154600583015494955091939091610bb991613a85565b6000808080806060818080600080516020613c5e83398151915260000160008b815260200190815260200160002090508060000160009054906101000a900460ff1681600201548260030154836004015484600501548560060186600101604051611bf8906816985e5b95985d5b1d60ba1b815260090190565b908152604051908190036020018120546001600160a01b0316906001890190611c2e906605a61796e5a61760cc1b815260070190565b908152604080519182900360209081018320548554808302850183019093528284526001600160a01b031692918591830182828015611c9657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611c78575b505050505092509850985098509850985098509850985050919395975091939597565b6040516000908190819081907f138fa7b895cc6132bd44317f3510a9c38821e93ca223f9fdc532527c01963ec4907ff27a5986330dc78d016d8604ee1a040d5a789fbaa2d0c27f5dfded4b616b8977908290611d16908c90613bc7565b908152604051908190036020018120546001600160a01b0316908390611d3d908c90613bc7565b908152604051908190036020018120546001600160a01b0316908390611d64908c90613bc7565b908152604051908190036020018120546001600160a01b0316908490611d8b908c90613bc7565b9081526040519081900360200190205492985090965094506001600160a01b031692505050945094509450949050565b600080611dc6612c31565b600086815260209182526040808220878352600c0183528082206001600160a01b0387168352909252205460ff169150509392505050565b6000818152600080516020613c9e83398151915260205260408120819081908190819081611e2a612c31565b600089815260209182526040808220600080516020613c7e83398151915284528183206001600160a01b038e168452600682019094529082205490935060ff16611e9057611e898260060154670de0b6b3a76400006105fb9190613a85565b9050611e9c565b611e998a6126f0565b90505b6001600160a01b039a909a1660009081526004840160209081526040808320546005870183528184205460068801845282852054600790980190935292205460ff9092169c909b949a5090985092965091945050505050565b6000610c1f8383612d34565b600080611f0c611843565b905060008161081b85670de0b6b3a7640000613a85565b600080600060606000806000806000611f3a612c31565b60008b81526020918252604090819020805460028201546003830154600484015460148501546001860180548851818b0281018b0190995280895296995060ff80871699610100880490911698620100009097046001600160a01b0316979196918791830182828015611fd657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611fb8575b505050505094509850985098509850985098509850985050919395975091939597565b600080612004612c31565b600085815260209182526040808220600080516020613c9e83398151915284528183206001600160a01b03881684526005820190945291205490925060ff1615801561206b57506001600160a01b038416600090815260048201602052604090205460ff16155b1561207b57600192505050610cf7565b600092505050610cf7565b505092915050565b600080612099612c31565b60008481526020919091526040902060048101549091506001808301916120c09190613a9c565b81548110610b0857610b08613ad9565b6000808080606081600080516020613c9e8339815191526000888152602091825260409081902080546001820154600283015460038401805486518189028101890190975280875294975060ff80851697610100909504169592949193909291839183018282801561216b57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161214d575b50505050509050955095509550955095505091939590929450565b61218e613202565b6000828152600080516020613c7e833981519152602090815260409182902082516101608101909352805460ff8082161515855291928401916101009091041660038111156121df576121df6133aa565b60038111156121f0576121f06133aa565b815281546001600160a01b036201000090910481166020830152600183015460408301526002830154606083015260038301546080830152600483015460a0830152600583015460c0830152600683015460e083015260078301546101008301526008909201549091166101209091015292915050565b6000818152600080516020613c5e833981519152602090815260408083206006810180548351818602810186019094528084529193859384939092918301828280156122dc57602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116122be575b505083519394506000925050505b818110156123485784600801600084838151811061230a5761230a613ad9565b60200260200101516001600160a01b03166001600160a01b03168152602001908152602001600020548461233e9190613aef565b93506001016122ea565b5060006123558786612e5e565b905084600401548111156123875760048501546123728286613aef565b61237c9190613a9c565b979650505050505050565b509195945050505050565b6060600061239f84610f81565b90506000815167ffffffffffffffff8111156123bd576123bd6136f5565b6040519080825280602002602001820160405280156123e6578160200160208202803683370190505b508251909150600090815b818110156124b55786600381111561240b5761240b6133aa565b600080516020613cbe833981519152600101600087848151811061243157612431613ad9565b6020026020010151815260200190815260200160002060000160019054906101000a900460ff166003811115612469576124696133aa565b036124ad5784818151811061248057612480613ad9565b602002602001015184848151811061249a5761249a613ad9565b6020026020010181815250508260010192505b6001016123f1565b5060008267ffffffffffffffff8111156124d1576124d16136f5565b6040519080825280602002602001820160405280156124fa578160200160208202803683370190505b50905060005b838110156125475784818151811061251a5761251a613ad9565b602002602001015182828151811061253457612534613ad9565b6020908102919091010152600101612500565b50979650505050505050565b6000806000612563846001612392565b90506000612572856000612392565b825181519192509060005b82811015612620576000600080516020613cbe83398151915260010160008784815181106125ad576125ad613ad9565b60200260200101518152602001908152602001600020905060006125e98784815181106125dc576125dc613ad9565b6020026020010151610be2565b82600601546125f89190613a85565b61260590620f4240613a85565b90506126118189613aef565b9750826001019250505061257d565b5060005b818110156126aa576000600080516020613cbe833981519152600101600086848151811061265457612654613ad9565b6020026020010151815260200190815260200160002090506000816004015482600601546126829190613a85565b61268f90620f4240613a85565b905061269b8189613aef565b97508260010192505050612624565b50939695505050505050565b6000806126c1612c31565b6000858152602091825260408082206001600160a01b0387168352600601909252205460ff1691505092915050565b6000806126fb612c31565b600084815260209182526040808220600080516020613c7e83398151915290935281208254929350918190610100900460ff16600481111561273f5761273f6133aa565b0361274f57506004810154612804565b60018354610100900460ff16600481111561276c5761276c6133aa565b1480612792575060028354610100900460ff166004811115612790576127906133aa565b145b156127a7576127a085610be2565b9050612804565b60038354610100900460ff1660048111156127c4576127c46133aa565b036127de5760016127d486610be2565b6127a09190613a9c565b60048354610100900460ff1660048111156127fb576127fb6133aa565b03612804575060005b60006128218360060154670de0b6b3a76400006105fb9190613a85565b905061282d8183613a85565b9695505050505050565b6128f5604051806102c001604052806000151581526020016000151581526020016000815260200160008152602001600081526020016000815260200160008152602001600015158152602001600015158152602001600015158152602001600015158152602001600015158152602001600015158152602001600015158152602001600081526020016000815260200160001515815260200160008152602001600081526020016000815260200160008152602001600081525090565b6000828152600080516020613c9e8339815191526020526040812090612919612c31565b600085815260209182526040808220600080516020613c7e8339815191528452818320600080516020613c5e83398151915285528284206001600160a01b038b1685526006830186528385205460048901909652929093205460ff90811615158852909450919290911661298d8789612d34565b15156020808801919091526001600160a01b038916600081815260058089018452604080832054818c015283835260068a0185528083205460608c01528383526007808b0186528184205460808d015284845291890185528083205460ff908116151560e08d01528615156101008d0152848452918901855280832054821615156101208c015283835260168901855280832054821615156101408c0152928252600888019093522054161515610160870152612a4a8888612c55565b151561018087015260048401546000908152600c8501602090815260408083206001600160a01b038c168085529083528184205460ff90811615156101a08c01529084526007860190925290912054161515610200870152612aac8789611419565b60c087015260008554610100900460ff166003811115612ace57612ace6133aa565b14612bc85760008115612aeb57612ae4886126f0565b9050612b09565b612b068460060154670de0b6b3a76400006105fb9190613a85565b90505b60a087018190526001600160a01b03891660008181526009870160209081526040808320546101c08c0152838352600b89018252808320546101e08c0152928252600786019052205460ff1615612bc6576001600160a01b0389166000818152600b850160209081526040808320546102208c0152838352600987018252808320546102408c0152838352600a87018252808320546102608c01529282526008860190522054610280880152612bbf888a612d0b565b6102a08801525b505b505050505092915050565b600080600080612be1612c31565b6000868152602091909152604081209150612bff600d830188612faa565b90506000612c1083600f0189612faa565b90506000612c21846011018a612faa565b9299919850919650945050505050565b7f6751f7e27cecf86d7136f5749c224248cae80a39fafb59f8f6bf12c52816307c90565b600080612c60612c31565b600084815260209182526040808220600080516020613c9e83398151915284528183206001600160a01b03891684526015820190945291205490925060ff1615612cad5760009250612086565b60006064612cba866126f0565b612cc590606e613a85565b612ccf9190613ac5565b6001600160a01b0387166000908152600584016020526040902054909150811115612cfd5760019350612d02565b600093505b50505092915050565b600080670de0b6b3a7640000612d218585612fcc565b612d2a86613058565b61081b9190613a85565b6000828152600080516020613c9e833981519152602090815260408083206001600160a01b0385168452600581019092528220548290612d73866131e4565b612df25760405163bb91b76d60e01b81526001600160a01b038616600482015260248101879052309063bb91b76d9060440160a060405180830381865afa158015612dc2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612de69190613bf6565b9550612e559350505050565b60405163f0d826e760e01b815260048101879052309063f0d826e790602401602060405180830381865afa158015612e2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e529190613c44565b91505b10949350505050565b60008082600101604051612e81906816985e5b95985d5b1d60ba1b815260090190565b90815260405190819003602001812054631398fee160e31b82526001600160a01b031690639cc7f70890612ebd90879060040190815260200190565b602060405180830381865afa158015612eda573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612efe9190613c44565b9050600083600101604051612f22906816985e5b95985d5b1d60ba1b815260090190565b908152604080516020928190038301812054631df1ee3f60e21b825291516001600160a01b03909216926377c7b8fc926004808401938290030181865afa158015612f71573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612f959190613c44565b9050670de0b6b3a76400006107e68284613a85565b6001600160a01b03811660009081526001830160205260408120541515610c1f565b6000828152600080516020613c5e8339815191526020526040812060048101548203612ffc576000915050610cf7565b60048101546001600160a01b0384166000908152600983016020908152604080832054600b8601909252909120546130349190613a9c565b61304690670de0b6b3a7640000613a85565b6130509190613ac5565b915050610cf7565b6000818152600080516020613c5e833981519152602052604080822081516816985e5b95985d5b1d60ba1b8152600182016009820152915191829003602901822054631398fee160e31b835260048301859052909183916001600160a01b031690639cc7f70890602401602060405180830381865afa1580156130df573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131039190613c44565b9050600082600101604051613127906816985e5b95985d5b1d60ba1b815260090190565b908152604080516020928190038301812054631df1ee3f60e21b825291516001600160a01b03909216926377c7b8fc926004808401938290030181865afa158015613176573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061319a9190613c44565b90506000670de0b6b3a76400006131b18385613a85565b6131bb9190613ac5565b905083600401548111156131d857600484015461282d9082613a9c565b50600095945050505050565b60006131ee612c31565b600092835260205250604090205460ff1690565b60408051610160810190915260008082526020820190815260200160006001600160a01b031681526020016000815260200160008152602001600081526020016000815260200160008152602001600081526020016000815260200160006001600160a01b031681525090565b6000806040838503121561328257600080fd5b50508035926020909101359150565b6000602082840312156132a357600080fd5b5035919050565b80356001600160a01b03811681146132c157600080fd5b919050565b600080604083850312156132d957600080fd5b6132e2836132aa565b946020939093013593505050565b60006020828403121561330257600080fd5b610c1f826132aa565b600081518084526020808501945080840160005b8381101561333b5781518752958201959082019060010161331f565b509495945050505050565b602081526000610c1f602083018461330b565b6000806040838503121561336c57600080fd5b8235915061337c602084016132aa565b90509250929050565b604081526000613398604083018561330b565b82810360208401526107f0818561330b565b634e487b7160e01b600052602160045260246000fd5b600481106133d0576133d06133aa565b50565b6133dc816133c0565b9052565b80511515825260208101516133f860208401826133d3565b50604081015161341360408401826001600160a01b03169052565b50606081015160608301526080810151608083015260a081015160a083015260c081015160c083015260e081015160e083015261010080820151818401525061012080820151818401525061014080820151613479828501826001600160a01b03169052565b50505050565b600581106133dc576133dc6133aa565b600081518084526020808501945080840160005b8381101561333b5781516001600160a01b0316875295820195908201906001016134a3565b60006101c06134d783886133e0565b6134e0866133c0565b856101608401526134f561018084018661347f565b806101a08401528351610300828501526135136104c085018261330b565b905060208501516101bf1980868403016101e0870152613533838361330b565b92506040870151915061020082818801526060880151925061022083818901526080890151935061024084818a015260a08a0151945061026085818b015260c08b0151955061028086818c015260e08c015196506102a087818d01526101008d015197506102c06135a7818e018a15159052565b6101208e015198506102e089818f01526101408f01516103008f01526101608f015199506135da6103208f018b15159052565b6101808f01516103408f01526101a08f01516103608f01529a8e01516103808e01526101e08e01516103a08e0152868e01516103c08e0152858e01518d8b0389016103e08f01529a61362c8b8d61348f565b9b50858f01519a506136436104008f018c15159052565b938e01516104208e0152918d01516104408d01528c01516104608c01528b01516104808b01528a01518988039094016104a08a01525091935061368c925084915083905061348f565b98975050505050505050565b60006101008a151583528960208401528860408401528760608401528660808401528060a08401526136cc8184018761348f565b6001600160a01b0395861660c08501529390941660e09092019190915250979650505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f83011261371c57600080fd5b813567ffffffffffffffff80821115613737576137376136f5565b604051601f8301601f19908116603f0116810190828211818310171561375f5761375f6136f5565b8160405283815286602085880101111561377857600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600080608085870312156137ae57600080fd5b843567ffffffffffffffff808211156137c657600080fd5b6137d28883890161370b565b955060208701359150808211156137e857600080fd5b6137f48883890161370b565b9450604087013591508082111561380a57600080fd5b6138168883890161370b565b9350606087013591508082111561382c57600080fd5b506138398782880161370b565b91505092959194509250565b60008060006060848603121561385a57600080fd5b8335925060208401359150613871604085016132aa565b90509250925092565b60006101008a15158352613891602084018b61347f565b6001600160a01b0389166040840152606083018190526138b38184018961348f565b9150508560808301528460a08301528360c08301528260e08301529998505050505050505050565b85151581526138e9856133c0565b84602082015283604082015282606082015260a06080820152600061237c60a083018461348f565b6101608101610cf782846133e0565b6000806040838503121561393357600080fd5b61393c836132aa565b915060208301356004811061395057600080fd5b809150509250929050565b8151151581526102c081016020830151613979602084018215159052565b5060408301516040830152606083015160608301526080830151608083015260a083015160a083015260c083015160c083015260e08301516139bf60e084018215159052565b5061010083810151151590830152610120808401511515908301526101408084015115159083015261016080840151151590830152610180808401511515908301526101a0808401511515908301526101c080840151908301526101e080840151908301526102008084015115159083015261022080840151908301526102408084015190830152610260808401519083015261028080840151908301526102a092830151929091019190915290565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610cf757610cf7613a6f565b81810381811115610cf757610cf7613a6f565b634e487b7160e01b600052601260045260246000fd5b600082613ad457613ad4613aaf565b500490565b634e487b7160e01b600052603260045260246000fd5b80820180821115610cf757610cf7613a6f565b80516001600160501b03811681146132c157600080fd5b600080600080600060a08688031215613b3157600080fd5b613b3a86613b02565b9450602086015193506040860151925060608601519150613b5d60808701613b02565b90509295509295909350565b600082613b7857613b78613aaf565b600160ff1b821460001984141615613b9257613b92613a6f565b500590565b80820260008212600160ff1b84141615613bb357613bb3613a6f565b8181058314821517610cf757610cf7613a6f565b6000825160005b81811015613be85760208186018101518583015201613bce565b506000920191825250919050565b600080600080600060a08688031215613c0e57600080fd5b85518015158114613c1e57600080fd5b602087015160408801516060890151608090990151929a91995097965090945092505050565b600060208284031215613c5657600080fd5b505191905056fe29d9cba46c358ba7c1b8945751229339792c7c62e3197c240fa98916e75ffbf987101b21d556417ad2b8e8f2700dbad90721d5d50a1f435f2dee0b9dc981ac8a35fa70a6f9ae8a4d427ebe0c1be62ffd2870fecc1df41c6fda0bf5803e56288887101b21d556417ad2b8e8f2700dbad90721d5d50a1f435f2dee0b9dc981ac89a2646970667358221220447f250adadadde1e6211bcecd518cef6d6daebc90baafd4168618b0e9c30fd064736f6c63430008120033",
  "devdoc": {
    "author": "Maikel Ordaz",
    "details": "v3.0 (Diamond)",
    "kind": "dev",
    "methods": {
      "currentOrNextCyclePaid(address,uint256)": {
        "params": {
          "participant": "the user to get the info from",
          "termId": "the fund id"
        },
        "returns": {
          "_0": "paidThisCycle, true if has paid the current cycle",
          "_1": "paidNextCycle, true if has paid the next cycle"
        }
      },
      "expelledBeforeBeneficiary(uint256,address)": {
        "params": {
          "termId": "the id of the term",
          "user": "the address of the participant to check"
        },
        "returns": {
          "_0": "true if the participant is expelled before being a beneficiary"
        }
      },
      "getAllJoinedTerms(address)": {
        "params": {
          "participant": "the participant address"
        },
        "returns": {
          "_0": "an array with the term ids the participant is part of"
        }
      },
      "getAvailablePositionsAndSecurityAmount(uint256)": {
        "details": "Available positions starts at 0",
        "params": {
          "termId": "the term id"
        },
        "returns": {
          "_0": "availablePositions an array with the available positions",
          "_1": "securityAmount an array with the security amount for each available position"
        }
      },
      "getCollateralSummary(uint256)": {
        "params": {
          "termId": "the collateral id"
        },
        "returns": {
          "_0": "if collateral initialized",
          "_1": "current collateral state",
          "_2": "time of first deposit",
          "_3": "current members count",
          "_4": "list of depositors"
        }
      },
      "getConstants(string,string,string,string)": {
        "params": {
          "firstAggregator": "The name of the first aggregator. Example: \"ETH/USD\"",
          "secondAggregator": "The name of the second aggregator. Example: \"USDC/USD\"",
          "vaultAddress": "The name of the vault address. Example: \"ZaynVault\"",
          "zapAddress": "The name of the zap address. Example: \"ZaynZap\""
        },
        "returns": {
          "_0": "The addresses of the oracles and yield providers"
        }
      },
      "getCurrentBeneficiary(uint256)": {
        "params": {
          "termId": "the fund id"
        },
        "returns": {
          "_0": "the current beneficiary"
        }
      },
      "getDepositorCollateralSummary(address,uint256)": {
        "params": {
          "depositor": "the depositor address",
          "termId": "the collateral id"
        },
        "returns": {
          "_0": "if the user is a true member of the term",
          "_1": "current users locked collateral balance in wei",
          "_2": "current users unlocked collateral balance in wei",
          "_3": "initial users deposit in wei",
          "_4": "expulsion limit"
        }
      },
      "getExpelledTerms(address)": {
        "params": {
          "participant": "the participant address"
        },
        "returns": {
          "_0": "an array the term ids on which the participant was expelled"
        }
      },
      "getFundSummary(uint256)": {
        "params": {
          "termId": "the fund id"
        },
        "returns": {
          "_0": "if fund initialized",
          "_1": "current fund state",
          "_2": "stable token address used",
          "_3": "list of beneficiaries order",
          "_4": "when the fund starts in seconds",
          "_5": "when the fund ended, 0 if not ended",
          "_6": "current cycle number",
          "_7": "total amount of cycles"
        }
      },
      "getJoinedTermsByState(address,uint8)": {
        "params": {
          "participant": "the participant address",
          "state": "the term state"
        },
        "returns": {
          "_0": "an array with the term ids the participant is part of, giving the state of the term"
        }
      },
      "getLatestPrice()": {
        "details": "Revert if there is problem with chainlink data",
        "returns": {
          "_0": "uint latest price in Wei Note: 18 decimals"
        }
      },
      "getNeededAllowance(address)": {
        "params": {
          "user": "the user address"
        },
        "returns": {
          "_0": "the needed allowance"
        }
      },
      "getNextBeneficiary(uint256)": {
        "params": {
          "termId": "the fund id"
        },
        "returns": {
          "_0": "the next beneficiary"
        }
      },
      "getParticipantFundSummary(address,uint256)": {
        "params": {
          "participant": "the user to get the info from",
          "termId": "the fund id"
        },
        "returns": {
          "_0": "isParticipant, true if is participant",
          "_1": "isBeneficiary, true if has been beneficiary",
          "_2": "paidThisCycle, true if has paid the current cycle",
          "_3": "autoPayEnabled, true if auto pay is enabled",
          "_4": "beneficiariesPool, the beneficiary pool, 6 decimals",
          "_5": "beneficiariesFrozenPool, true if the beneficiary pool is frozen"
        }
      },
      "getRemainingContributionTime(uint256)": {
        "params": {
          "termId": "the fund id"
        },
        "returns": {
          "_0": "the time left to contribute"
        }
      },
      "getRemainingCycleTime(uint256)": {
        "params": {
          "termId": "the term id"
        },
        "returns": {
          "_0": "remaining time in the current cycle"
        }
      },
      "getRemainingCycles(uint256)": {
        "params": {
          "termId": "the term id"
        },
        "returns": {
          "_0": "remaining cycles"
        }
      },
      "getRemainingCyclesContributionWei(uint256)": {
        "params": {
          "termId": "the term id"
        },
        "returns": {
          "_0": "remaining cycles contribution in wei"
        }
      },
      "getRemainingRegistrationTime(uint256)": {
        "details": "Revert if nobody has deposited",
        "params": {
          "termId": "the term id"
        },
        "returns": {
          "_0": "remaining contribution period"
        }
      },
      "getTermRelatedSummary(uint256)": {
        "params": {
          "termId": "The term id for which the summary is being requested"
        },
        "returns": {
          "collateralState": "The current state of the collateral",
          "fundState": "The current state of the fund",
          "nonUserRelated": "A helper struct with the following values:                        available positions, security deposits corresponding to each position,                        remaining registration time, remaining contribution time,                        remaining cycle time, remaining cycles, remaining cycles                        contribution in wei, latest price from Chainlink, collateral                        first deposit time in seconds, collateral counter members,                        fund start time in seconds, fund end time in seconds, current                        cycle, expelled participants, total amount of cycles, yield                        start time in seconds, total deposit in wei, current total                        deposit in wei, total shares, users opted in for yield",
          "term": "The term object"
        }
      },
      "getTermSummary(uint256)": {
        "params": {
          "termId": "the term id"
        },
        "returns": {
          "_0": "the term object"
        }
      },
      "getTermsId()": {
        "returns": {
          "_0": "the current term id",
          "_1": "the next term id"
        }
      },
      "getToCollateralConversionRate(uint256)": {
        "params": {
          "USDAmount": "The amount in USD with 18 decimals"
        },
        "returns": {
          "_0": "uint converted amount in wei"
        }
      },
      "getToStableConversionRate(uint256)": {
        "params": {
          "ethAmount": "The amount in ETH"
        },
        "returns": {
          "_0": "uint converted amount in USD correct to 18 decimals"
        }
      },
      "getUserRelatedSummary(address,uint256)": {
        "params": {
          "termId": "the collateral id",
          "user": "the depositor address"
        },
        "returns": {
          "userRelated": "an object that contains the following values:                     user is collateral member, user is undercollaterized,                     current collateral balance, received collateral from defaults,                     initial deposited collateral, collateral expulsion limit,                     currently withdrawable balance, is fund member, is or was beneficiary,                     user paid current cycle, user paid next cycle in advance,                     user enabled autopay, user's money pot is frozen, user is exempted this                     cycle, the money pot pool the user can withdraw, the cycle the user got                     expelled (if applicable), is yield member, amount of collateral deposited                     in yield pool, amount of collateral withdrawn from yield pool, available                     yield to withdraw, amount of yield withdrawn, yield to be distributed"
        }
      },
      "getUserSet(address,uint256)": {
        "params": {
          "participant": "the user to get the info from",
          "termId": "the fund id"
        },
        "returns": {
          "_0": "on participant set",
          "_1": "on beneficiary set",
          "_2": "on defaulter set"
        }
      },
      "getUserYieldSummary(address,uint256)": {
        "params": {
          "termId": "the collateral id",
          "user": "the depositor address"
        },
        "returns": {
          "_0": "if the user opted in for yield",
          "_1": "amount withdrawn from yield",
          "_2": "amount withdrawn from collateral",
          "_3": "amount available in yield",
          "_4": "amount deposited by user in yield",
          "_5": "amount of yield distributed"
        }
      },
      "getWithdrawableUserBalance(uint256,address)": {
        "params": {
          "termId": "term id",
          "user": "depositor address"
        },
        "returns": {
          "allowedWithdrawal": "amount the amount of collateral the depositor can withdraw"
        }
      },
      "getYieldLockState()": {
        "returns": {
          "_0": "The current state of the yield lock"
        }
      },
      "getYieldSummary(uint256)": {
        "params": {
          "termId": "the collateral id"
        },
        "returns": {
          "_0": "if the yield is initialized",
          "_1": "start time stamp for yield deposit",
          "_2": "total deposit",
          "_3": "current amount in yield",
          "_4": "amount of total shares",
          "_5": "list of yield users",
          "_6": "address of vault",
          "_7": "address of zap"
        }
      },
      "isBeneficiary(uint256,address)": {
        "params": {
          "beneficiary": "the address of the participant to check",
          "termId": "the id of the term"
        },
        "returns": {
          "_0": "true if the participant is a beneficiary"
        }
      },
      "isExempted(uint256,uint256,address)": {
        "params": {
          "cycle": "the cycle to check",
          "termId": "the fund id",
          "user": "the user to check"
        },
        "returns": {
          "_0": "true if the user is exempted"
        }
      },
      "isUnderCollaterized(uint256,address)": {
        "details": "This will revert if called during ReleasingCollateral or after",
        "params": {
          "member": "The user to check for",
          "termId": "The term id"
        },
        "returns": {
          "_0": "Bool check if member is below 1.0x of collateralDeposit"
        }
      },
      "minCollateralToDeposit(uint256,uint256)": {
        "details": "The minimum collateral amount is calculated based on the index on the depositors arrayThe return value should be the minimum msg.value when calling joinTermC = 1.5 Cp (Tp - I) where C = minimum collateral amount, Cp = contribution amount,      Tp = total participants, I = depositor index (starts at 0). 1.5",
        "params": {
          "depositorIndex": "the index the depositor wants to join",
          "termId": "term id"
        },
        "returns": {
          "amount": "the minimum collateral amount to deposit in wei"
        }
      },
      "termAPY(uint256)": {
        "params": {
          "termId": "The term id for which the APY is being calculated"
        },
        "returns": {
          "_0": "The APY for the term"
        }
      },
      "totalYieldGenerated(uint256)": {
        "params": {
          "termId": "The term id for which the yield is being calculated"
        },
        "returns": {
          "_0": "The total yield generated for the term"
        }
      },
      "userAPY(uint256,address)": {
        "params": {
          "termId": "The term id for which the APY is being calculated",
          "user": "The user for which the APY is being calculated"
        },
        "returns": {
          "_0": "The APY for the user"
        }
      },
      "userHasoptedInYG(uint256,address)": {
        "params": {
          "termId": "The term id for which the check is being made",
          "user": "The user for which the check is being made"
        },
        "returns": {
          "_0": "True if the user has opted in"
        }
      },
      "wasExpelled(uint256,address)": {
        "params": {
          "termId": "the fund id",
          "user": "the user to check"
        },
        "returns": {
          "_0": "true if the user was expelled before"
        }
      }
    },
    "title": "Takaturn Getters Facet",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "currentOrNextCyclePaid(address,uint256)": {
        "notice": "function to get fund information of a specific participant"
      },
      "expelledBeforeBeneficiary(uint256,address)": {
        "notice": "checks if a participant have been expelled before being a beneficiary"
      },
      "getAllJoinedTerms(address)": {
        "notice": "Get all the terms a participant is part of"
      },
      "getAvailablePositionsAndSecurityAmount(uint256)": {
        "notice": "Gets the remaining positions in a term and the corresponding security amount"
      },
      "getCollateralSummary(uint256)": {
        "notice": "function to get the collateral object"
      },
      "getConstants(string,string,string,string)": {
        "notice": "This function return the current constant values for oracles and yield providers"
      },
      "getCurrentBeneficiary(uint256)": {
        "notice": "function to get the beneficiary from the current cycle"
      },
      "getDepositorCollateralSummary(address,uint256)": {
        "notice": "function to get the depositor collateral summary"
      },
      "getExpelledTerms(address)": {
        "notice": "Get all the terms a participant was expelled from"
      },
      "getFundSummary(uint256)": {
        "notice": "function to get the cycle information in one go"
      },
      "getJoinedTermsByState(address,uint8)": {
        "notice": "Get all the terms a participant is part of by a given state"
      },
      "getLatestPrice()": {
        "notice": "Gets latest ETH / USD price"
      },
      "getNeededAllowance(address)": {
        "notice": "a function to get the needed allowance for every active term the user is part of"
      },
      "getNextBeneficiary(uint256)": {
        "notice": "function to get the beneficiary from the next cycle"
      },
      "getParticipantFundSummary(address,uint256)": {
        "notice": "function to get fund information of a specific participant"
      },
      "getRemainingContributionTime(uint256)": {
        "notice": "returns the time left to contribute for this cycle"
      },
      "getRemainingCycleTime(uint256)": {
        "notice": "Get the term's remaining time in the current cycle"
      },
      "getRemainingCycles(uint256)": {
        "notice": "Get the term's remaining cycles"
      },
      "getRemainingCyclesContributionWei(uint256)": {
        "notice": "Get the term's remaining contribution amount converted from USDC to wei"
      },
      "getRemainingRegistrationTime(uint256)": {
        "notice": "Gets the remaining registration period for a term"
      },
      "getTermRelatedSummary(uint256)": {
        "notice": "This function is used as a helper for front-end implementation"
      },
      "getTermSummary(uint256)": {
        "notice": "Gets the term object"
      },
      "getToCollateralConversionRate(uint256)": {
        "notice": "Gets the conversion rate of an amount in USD to ETH"
      },
      "getToStableConversionRate(uint256)": {
        "notice": "Gets the conversion rate of an amount in ETH to USD"
      },
      "getUserRelatedSummary(address,uint256)": {
        "notice": "This function is used as a helper for front-end implementation"
      },
      "getUserSet(address,uint256)": {
        "notice": "function to get cycle information of a specific participant"
      },
      "getUserYieldSummary(address,uint256)": {
        "notice": "Gets the user yield summary"
      },
      "getWithdrawableUserBalance(uint256,address)": {
        "notice": "Called to check how much collateral a user can withdraw"
      },
      "getYieldLockState()": {
        "notice": "This function is used to get the current state of the yield lock"
      },
      "getYieldSummary(uint256)": {
        "notice": "Gets the yield object"
      },
      "isBeneficiary(uint256,address)": {
        "notice": "checks if a participant have been a beneficiary"
      },
      "isExempted(uint256,uint256,address)": {
        "notice": "function to see if a user is exempted from paying a cycle"
      },
      "isUnderCollaterized(uint256,address)": {
        "notice": "Checks if a user has a collateral below 1.0x of total contribution amount"
      },
      "minCollateralToDeposit(uint256,uint256)": {
        "notice": "Called to check the minimum collateral amount to deposit in wei"
      },
      "termAPY(uint256)": {
        "notice": "This function is used to get a term APY"
      },
      "totalYieldGenerated(uint256)": {
        "notice": "This function is used to get the total yield generated for a term"
      },
      "userAPY(uint256,address)": {
        "notice": "This function is used to get a user APY"
      },
      "userHasoptedInYG(uint256,address)": {
        "notice": "This function is used to check if a user has opted in for yield generation"
      },
      "wasExpelled(uint256,address)": {
        "notice": "function to know if a user was expelled before"
      }
    },
    "notice": "Getters for Takaturn protocol",
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}